<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>김형훈의 학습 블로그</title>
<link>https://cryscham123.github.io/posts/01_projects/bs_3_1/</link>
<atom:link href="https://cryscham123.github.io/posts/01_projects/bs_3_1/index.xml" rel="self" type="application/rss+xml"/>
<description>3학년 1학기 학부 할 일 총 정리</description>
<image>
<url>https://cryscham123.github.io/profile.jpg</url>
<title>김형훈의 학습 블로그</title>
<link>https://cryscham123.github.io/posts/01_projects/bs_3_1/</link>
</image>
<generator>quarto-1.5.56</generator>
<lastBuildDate>Sat, 31 May 2025 01:16:16 GMT</lastBuildDate>
<item>
  <title></title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/16.pdf</link>
  <description><![CDATA[ undefined ]]></description>
  <category>보고서</category>
  <category>데이터 마이닝</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/16.pdf</guid>
  <pubDate>Sat, 31 May 2025 01:16:16 GMT</pubDate>
</item>
<item>
  <title>확률과 통계 R 실습 과제</title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/statistics/05.html</link>
  <description><![CDATA[ 




<p><img src="https://cryscham123.github.io/img/stat-thumb.jpg" class="post-thumbnail img-fluid"></p>
<section id="one-way-anova" class="level2">
<h2 class="anchored" data-anchor-id="one-way-anova">One-way ANOVA</h2>
<section id="a" class="level3">
<h3 class="anchored" data-anchor-id="a">a</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">val1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.84</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.67</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.61</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.95</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.25</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.35</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.85</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.58</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3.08</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.25</span>)</span>
<span id="cb1-2">val2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.79</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.98</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.01</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.93</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.24</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.03</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.22</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.44</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.24</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.05</span>)</span>
<span id="cb1-3">val3 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3.31</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.24</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.74</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.36</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.79</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.20</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.32</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.82</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.73</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.78</span>)</span>
<span id="cb1-4">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb1-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"일반 마우스"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"트랙 패트"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"버티컬 마우스"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)),</span>
<span id="cb1-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">finger =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'왼중지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'왼검지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'오른약지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'왼약지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'왼엄지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'오른약지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'오른새끼'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'오른엄지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'왼중지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'왼새끼'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'오른중지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'오른엄지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'오른중지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'오른검지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'왼엄지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'왼검지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'오른새끼'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'오른검지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'왼엄지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'오른중지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'왼검지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'왼새끼'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'오른검지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'왼약지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'오른새끼'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'오른엄지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'왼약지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'왼중지'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'왼새끼'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'오른약지'</span>),</span>
<span id="cb1-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">value =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(val1, val2, val3)</span>
<span id="cb1-8">)</span>
<span id="cb1-9">df</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           group   finger value
1    일반 마우스   왼중지  1.84
2    일반 마우스   왼검지  2.67
3    일반 마우스 오른약지  2.61
4    일반 마우스   왼약지  2.95
5    일반 마우스   왼엄지  2.25
6    일반 마우스 오른약지  2.35
7    일반 마우스 오른새끼  2.85
8    일반 마우스 오른엄지  2.58
9    일반 마우스   왼중지  3.08
10   일반 마우스   왼새끼  2.25
11     트랙 패트 오른중지  1.79
12     트랙 패트 오른엄지  1.98
13     트랙 패트 오른중지  2.01
14     트랙 패트 오른검지  1.93
15     트랙 패트   왼엄지  2.24
16     트랙 패트   왼검지  2.03
17     트랙 패트 오른새끼  2.22
18     트랙 패트 오른검지  1.44
19     트랙 패트   왼엄지  2.24
20     트랙 패트 오른중지  2.05
21 버티컬 마우스   왼검지  3.31
22 버티컬 마우스   왼새끼  2.24
23 버티컬 마우스 오른검지  2.74
24 버티컬 마우스   왼약지  2.36
25 버티컬 마우스 오른새끼  2.79
26 버티컬 마우스 오른엄지  2.20
27 버티컬 마우스   왼약지  2.32
28 버티컬 마우스   왼중지  2.82
29 버티컬 마우스   왼새끼  2.73
30 버티컬 마우스 오른약지  2.78</code></pre>
</div>
</div>
<ul>
<li>요인: 클릭하는 장치 종류</li>
<li>수준: 일반 마우스, 트랙 패드, 버티컬 마우스</li>
<li>반응치: <a href="https://www.arealme.com/reaction-test/ko/">클릭 반응속도</a></li>
</ul>
<p>10개의 손가락에 대해 3개의 장치를 랜덤으로 사용하여 클릭 반응속도를 측정한다.</p>
</section>
<section id="b" class="level3">
<h3 class="anchored" data-anchor-id="b">b</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">df.means <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tapply</span>(df<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">INDEX=</span>df<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>group, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">FUN=</span>mean)</span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">boxplot</span>(df<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>value <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> df<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>group, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lightblue"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mistyrose"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lightcyan"</span>))</span>
<span id="cb3-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">points</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, df.means, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pch=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cex=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/statistics/05_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="c" class="level3">
<h3 class="anchored" data-anchor-id="c">c</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">df.sd <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tapply</span>(df<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">INDEX=</span>df<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>group, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">FUN=</span>sd)</span>
<span id="cb4-2">df.sd.diff <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(df.sd) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(df.sd)</span>
<span id="cb4-3"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> (df.sd.diff <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) </span>
<span id="cb4-4">{</span>
<span id="cb4-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"모집단의 분산이 동일하지 않음"</span>)</span>
<span id="cb4-6">} <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span> </span>
<span id="cb4-7">{</span>
<span id="cb4-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"모집단의 분산이 동일하다고 가정"</span>)</span>
<span id="cb4-9">}</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "모집단의 분산이 동일하다고 가정"</code></pre>
</div>
</div>
</section>
<section id="d" class="level3">
<h3 class="anchored" data-anchor-id="d">d</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggpubr)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: ggplot2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggqqplot</span>(val1)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/statistics/05_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggqqplot</span>(val2)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/statistics/05_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggqqplot</span>(val3)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/statistics/05_files/figure-html/unnamed-chunk-4-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>그림을 보니 반응치 값들이 정규분포를 따르는 것 같다!</p>
</section>
<section id="e" class="level3">
<h3 class="anchored" data-anchor-id="e">e</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">df.anova <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aov</span>(value <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> group, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data=</span>df)</span>
<span id="cb11-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(df.anova)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            Df Sum Sq Mean Sq F value   Pr(&gt;F)    
group        2  2.381  1.1907   11.17 0.000292 ***
Residuals   27  2.878  0.1066                     
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">is_significant <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(df.anova)[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]][[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Pr(&gt;F)"</span>]][<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.05</span></span>
<span id="cb13-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> (is_significant)</span>
<span id="cb13-3">{</span>
<span id="cb13-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"95%에서 처리별 모평균의 차이가 있음"</span>)</span>
<span id="cb13-5">} <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span></span>
<span id="cb13-6">{</span>
<span id="cb13-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"95%에서 처리별 모평균의 차이가 없음"</span>)</span>
<span id="cb13-8">}</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "95%에서 처리별 모평균의 차이가 있음"</code></pre>
</div>
</div>
</section>
<section id="f" class="level3">
<h3 class="anchored" data-anchor-id="f">f</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> (is_significant)</span>
<span id="cb15-2">{</span>
<span id="cb15-3">  df.bon <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pairwise.t.test</span>(df<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>value, df<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>group, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">p.adjust.method =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bonferroni"</span>)</span>
<span id="cb15-4">  diff_pair <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">which</span>(df.bon<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>p.value <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.05</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">arr.ind =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb15-5">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> (<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(diff_pair) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb15-6">  {</span>
<span id="cb15-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cat</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"모평균의 차이가 있는 쌍"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb15-8">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (i <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nrow</span>(diff_pair)) </span>
<span id="cb15-9">    {</span>
<span id="cb15-10">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cat</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">colnames</span>(df.bon<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>p.value)[diff_pair[i, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"col"</span>]], <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rownames</span>(df.bon<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>p.value)[diff_pair[i, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"row"</span>]], <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb15-11">    }</span>
<span id="cb15-12">  } <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span> </span>
<span id="cb15-13">  {</span>
<span id="cb15-14">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"모평균의 차이가 있는 처리 쌍 없음"</span>)</span>
<span id="cb15-15">  }</span>
<span id="cb15-16">}</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>모평균의 차이가 있는 쌍 
버티컬 마우스 - 트랙 패트 
일반 마우스 - 트랙 패트 </code></pre>
</div>
</div>
</section>
</section>
<section id="anova-for-randomized-block-design" class="level2">
<h2 class="anchored" data-anchor-id="anova-for-randomized-block-design">ANOVA for Randomized Block Design</h2>
<section id="a-1" class="level3">
<h3 class="anchored" data-anchor-id="a-1">a</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb17-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">block =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"아스팔트"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"트랙"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"모래밭"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"잔디밭"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">each=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>),</span>
<span id="cb17-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">treatment =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"런닝화"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"축구화"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"크록스"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">times=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>),</span>
<span id="cb17-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">value =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">6.1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">6.4</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">6.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">5.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">5.9</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">6.0</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">6.9</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">7.1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">7.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">6.3</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">6.9</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">7.0</span>)</span>
<span id="cb17-5">)</span>
<span id="cb17-6">df</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      block treatment value
1  아스팔트    런닝화   6.1
2  아스팔트    축구화   6.4
3  아스팔트    크록스   6.5
4      트랙    런닝화   5.5
5      트랙    축구화   5.9
6      트랙    크록스   6.0
7    모래밭    런닝화   6.9
8    모래밭    축구화   7.1
9    모래밭    크록스   7.5
10   잔디밭    런닝화   6.3
11   잔디밭    축구화   6.9
12   잔디밭    크록스   7.0</code></pre>
</div>
</div>
<ul>
<li>요인: 운동화 종류</li>
<li>수준: 런닝화, 축구화, 크록스</li>
<li>block: 달리는 땅</li>
<li>반응치: 50m 달리기 시간(초)</li>
</ul>
</section>
<section id="b-1" class="level3">
<h3 class="anchored" data-anchor-id="b-1">b</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1">df.anova.rbd <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aov</span>(value <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> treatment <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> block, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data=</span>df)</span>
<span id="cb19-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(df.anova.rbd)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            Df Sum Sq Mean Sq F value   Pr(&gt;F)    
treatment    2 0.6317  0.3158   27.73  0.00093 ***
block        3 3.0492  1.0164   89.24 2.28e-05 ***
Residuals    6 0.0683  0.0114                     
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>처리에 의한 변동이 통계적으로 유의미하다.</p>
<p>block에 의한 변동 역시 통계적으로 유의미하다.</p>
</section>
<section id="c-1" class="level3">
<h3 class="anchored" data-anchor-id="c-1">c</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1">df.anova <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aov</span>(value<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>treatment, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data=</span>df)</span>
<span id="cb21-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(df.anova)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            Df Sum Sq Mean Sq F value Pr(&gt;F)
treatment    2 0.6317  0.3158   0.912  0.436
Residuals    9 3.1175  0.3464               </code></pre>
</div>
</div>
<p>처리에 의한 변동이 통계적으로 유의미하지 않다고 나온다.</p>
<p>block에 의한 변동이 통계적으로 유의미하기 때문에, block에 의한 변동을 제거하고 처리에 의한 변동을 분석해야 하기 때문이다.</p>
</section>
</section>
<section id="simple-linear-regression" class="level2">
<h2 class="anchored" data-anchor-id="simple-linear-regression">Simple Linear Regression</h2>
<section id="a-2" class="level3">
<h3 class="anchored" data-anchor-id="a-2">a</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">runif</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb23-2">error <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)</span>
<span id="cb23-3">y <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> error</span>
<span id="cb23-4">model <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lm</span>(y <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> x)</span>
<span id="cb23-5">model</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = y ~ x)

Coefficients:
(Intercept)            x  
     -1.824        2.893  </code></pre>
</div>
</div>
</section>
<section id="b-2" class="level3">
<h3 class="anchored" data-anchor-id="b-2">b</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cat</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"B1의 추정 기울기: "</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(model)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>])</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>B1의 추정 기울기:  2.892536</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1">trust <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">confint</span>(model, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">level=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.95</span>)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, ]</span>
<span id="cb27-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cat</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"신뢰구간: "</span>, trust, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>신뢰구간:  2.624822 3.160251 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> trust[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;&amp;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> trust[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]) </span>
<span id="cb29-2">{</span>
<span id="cb29-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"신뢰구간에 3 포함"</span>)</span>
<span id="cb29-4">} <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span> </span>
<span id="cb29-5">{</span>
<span id="cb29-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"신뢰구간에 3 안 포함"</span>)</span>
<span id="cb29-7">}</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "신뢰구간에 3 포함"</code></pre>
</div>
</div>
</section>
<section id="c-2" class="level3">
<h3 class="anchored" data-anchor-id="c-2">c</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(x, y, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cex=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>)</span>
<span id="cb31-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">abline</span>(model, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lwd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb31-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">abline</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blue"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lwd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb31-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">legend</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"topleft"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"실제 회귀선"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"추정 회귀선"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blue"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">lwd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/statistics/05_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="d-1" class="level3">
<h3 class="anchored" data-anchor-id="d-1">d</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb32" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1">cnt <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb32-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (i <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>) </span>
<span id="cb32-3">{</span>
<span id="cb32-4">  x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">runif</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb32-5">  error <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)</span>
<span id="cb32-6">  y <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> error</span>
<span id="cb32-7">  model <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lm</span>(y <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> x)</span>
<span id="cb32-8">  trust <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">confint</span>(model, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">level=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.95</span>)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, ]</span>
<span id="cb32-9">  cnt <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> cnt <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> trust[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;&amp;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> trust[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>])</span>
<span id="cb32-10">}</span>
<span id="cb32-11">cnt</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 96</code></pre>
</div>
</div>
</section>
</section>
<section id="multiple-linear-regression" class="level2">
<h2 class="anchored" data-anchor-id="multiple-linear-regression">Multiple Linear Regression</h2>
<section id="a-3" class="level3">
<h3 class="anchored" data-anchor-id="a-3">a</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb34" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data</span>(iris)</span>
<span id="cb34-2">model <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lm</span>(Sepal.Width <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Sepal.Length <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> Petal.Length <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> Petal.Width, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris)</span>
<span id="cb34-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(model)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Sepal.Width ~ Sepal.Length + Petal.Length + Petal.Width, 
    data = iris)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.88045 -0.20945  0.01426  0.17942  0.78125 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   1.04309    0.27058   3.855 0.000173 ***
Sepal.Length  0.60707    0.06217   9.765  &lt; 2e-16 ***
Petal.Length -0.58603    0.06214  -9.431  &lt; 2e-16 ***
Petal.Width   0.55803    0.12256   4.553  1.1e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3038 on 146 degrees of freedom
Multiple R-squared:  0.524, Adjusted R-squared:  0.5142 
F-statistic: 53.58 on 3 and 146 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>F 값의 p-value가 매우 작으므로, 모델이 통계적으로 유의미하다고 할 수 있다.</p>
<p>각각의 독립변수에 대한 p-value 역시 모두 매우 작으므로, 종속변수에 통계적으로 유의미한 영향을 미친다고 할 수 있다.</p>
<p>하지만 r-squared 값이 크지 않아서 모델이 종속변수의 변동을 잘 설명하지 못한다고 할 수 있다.</p>
</section>
<section id="b-3" class="level3">
<h3 class="anchored" data-anchor-id="b-3">b</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb36" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(model, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/statistics/05_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>잔차가 U자 패턴을 보이므로, 선형성이 만족되지 않는 것 같다.</p>
</section>
<section id="c-3" class="level3">
<h3 class="anchored" data-anchor-id="c-3">c</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb37" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1">model2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lm</span>(Sepal.Width <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Sepal.Length <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">I</span>(Sepal.Length<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">^</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> Petal.Length <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">I</span>(Petal.Length<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">^</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> Petal.Width <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">I</span>(Petal.Width<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">^</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris)</span>
<span id="cb37-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(model2)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Sepal.Width ~ Sepal.Length + I(Sepal.Length^2) + 
    Petal.Length + I(Petal.Length^2) + Petal.Width + I(Petal.Width^2), 
    data = iris)

Residuals:
     Min       1Q   Median       3Q      Max 
-0.82277 -0.16843 -0.00315  0.15300  0.77761 

Coefficients:
                  Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)       -3.10783    1.37460  -2.261 0.025275 *  
Sepal.Length       2.32243    0.50141   4.632 8.08e-06 ***
I(Sepal.Length^2) -0.15699    0.04264  -3.682 0.000327 ***
Petal.Length      -0.89155    0.20300  -4.392 2.17e-05 ***
I(Petal.Length^2)  0.06925    0.02336   2.965 0.003549 ** 
Petal.Width       -0.03666    0.38214  -0.096 0.923708    
I(Petal.Width^2)   0.13095    0.10529   1.244 0.215648    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.2755 on 143 degrees of freedom
Multiple R-squared:  0.6167,    Adjusted R-squared:  0.6006 
F-statistic: 38.35 on 6 and 143 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
<section id="d-2" class="level3">
<h3 class="anchored" data-anchor-id="d-2">d</h3>
<p>Sepal.Length, <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BSepal.Length%7D%5E2">, Petal.Length의 p-value가 모두 0.05보다 작으므로, 이 변수들이 종속변수에 통계적으로 유의미한 영향을 미친다고 할 수 있다.</p>
<p>r-squared 값도 더 작아져서, c 모델이 b 모델보다 종속변수의 변동을 잘 설명한다고 할 수 있다.</p>
</section>
<section id="e-1" class="level3">
<h3 class="anchored" data-anchor-id="e-1">e</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb39" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(model2, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/statistics/05_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>U자 패턴이 완만해진걸로 보인다.</p>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a> ]]></description>
  <category>확률과 통계</category>
  <category>보고서</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/statistics/05.html</guid>
  <pubDate>Fri, 30 May 2025 08:17:10 GMT</pubDate>
</item>
<item>
  <title>일정 계획</title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/13.html</link>
  <description><![CDATA[ 




<p><img src="https://cryscham123.github.io/img/human-thumb.jpg" class="post-thumbnail img-fluid"></p>
<section id="일정계획" class="level2">
<h2 class="anchored" data-anchor-id="일정계획">일정계획</h2>


</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a> ]]></description>
  <category>생산시스템관리</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/13.html</guid>
  <pubDate>Tue, 27 May 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>기준생산계획 및 자재소요계획</title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/12.html</link>
  <description><![CDATA[ 




<p><img src="https://cryscham123.github.io/img/human-thumb.jpg" class="post-thumbnail img-fluid"></p>
<section id="기준생산계획master-production-schedule-mps" class="level2">
<h2 class="anchored" data-anchor-id="기준생산계획master-production-schedule-mps">기준생산계획(Master Production Schedule, MPS)</h2>
<ul>
<li>총괄생산계획을 분해한 것</li>
<li>이어지는 부품의 제조활동이나 자재 조달 활동의 기준이 되는 계획</li>
</ul>
</section>
<section id="자재소요계획material-requirements-planning-mrp" class="level2">
<h2 class="anchored" data-anchor-id="자재소요계획material-requirements-planning-mrp">자재소요계획(Material Requirements Planning, MRP)</h2>
<ul>
<li>부품에 대한 수요가 발생하는 양상이 완제품인 MPS랑 다름</li>
<li>부품의 공급이 100% 확실하지 않음 (lead time 지연, 품질 등)</li>
</ul>
<section id="고려사항" class="level3">
<h3 class="anchored" data-anchor-id="고려사항">고려사항</h3>
<ul>
<li>공통부품: LLC(Low Level Coding) 기준으로 MRP를 작성</li>
<li>로트크기 규칙결정
<ul>
<li>Fixed Order Quantity</li>
<li>Periodic Order Quantity: 주문시 향후 T period만큼 필요한 양을 주문</li>
<li>Lot-for-Lot: 주문시 수요량만큼 주문</li>
</ul></li>
<li>안전재고</li>
</ul>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a> ]]></description>
  <category>생산시스템관리</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/12.html</guid>
  <pubDate>Sun, 25 May 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/OR/13.pdf</link>
  <description><![CDATA[ undefined ]]></description>
  <category>보고서</category>
  <category>OR</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/OR/13.pdf</guid>
  <pubDate>Sun, 25 May 2025 10:55:55 GMT</pubDate>
</item>
<item>
  <title>analysis</title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/15.html</link>
  <description><![CDATA[ 




<p><img src="https://cryscham123.github.io/img/human-thumb.jpg" class="post-thumbnail img-fluid"></p>
<section id="데이터-load" class="level2">
<h2 class="anchored" data-anchor-id="데이터-load">데이터 load</h2>
<div id="54dd0623" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pd</span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> numpy <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> np</span>
<span id="cb1-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> sklearn.model_selection <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> train_test_split</span>
<span id="cb1-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> sklearn.metrics <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> confusion_matrix, accuracy_score, precision_score, recall_score, f1_score, roc_curve, auc, classification_report</span>
<span id="cb1-5"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> sklearn.preprocessing <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> label_binarize</span>
<span id="cb1-6"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb1-7"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> seaborn <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> sns</span>
<span id="cb1-8"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> collections <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Counter</span>
<span id="cb1-9"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> warnings</span>
<span id="cb1-10"></span>
<span id="cb1-11">warnings.filterwarnings(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'ignore'</span>)</span>
<span id="cb1-12"></span>
<span id="cb1-13">plt.rcParams[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'font.family'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Noto Sans KR'</span></span>
<span id="cb1-14"></span>
<span id="cb1-15">RANDOM_STATE <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">54321</span></span>
<span id="cb1-16">np.random.seed(RANDOM_STATE)</span>
<span id="cb1-17"></span>
<span id="cb1-18">X_train_df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.read_csv(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"_data/train_data.csv"</span>)</span>
<span id="cb1-19">X_test_df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.read_csv(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"_data/test_data.csv"</span>)</span>
<span id="cb1-20">y_train <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> X_train_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'y'</span>].astype(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'category'</span>)</span>
<span id="cb1-21">y_test <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> X_test_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'y'</span>].astype(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'category'</span>)</span>
<span id="cb1-22">weights_train <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> X_train_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'weights'</span>]</span>
<span id="cb1-23">weights_test <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> X_test_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'weights'</span>]</span>
<span id="cb1-24">X_train <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> X_train_df.drop(columns<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'y'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'weights'</span>])</span>
<span id="cb1-25">X_test <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> X_test_df.drop(columns<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'y'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'weights'</span>])</span></code></pre></div>
</div>
</section>
<section id="무작위-분류" class="level2">
<h2 class="anchored" data-anchor-id="무작위-분류">무작위 분류</h2>
<div id="9a084bb7" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">class_proportions_py <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> y_train.value_counts(normalize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>)</span>
<span id="cb2-2">test_categories <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>(y_test.cat.categories)</span>
<span id="cb2-3">prop_values_ordered <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> class_proportions_py.reindex(test_categories, fill_value<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>).values</span>
<span id="cb2-4">random_predictions <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.random.choice(</span>
<span id="cb2-5">    a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories,</span>
<span id="cb2-6">    size<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(y_test),</span>
<span id="cb2-7">    replace<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>,</span>
<span id="cb2-8">    p<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>prop_values_ordered</span>
<span id="cb2-9">)</span>
<span id="cb2-10">random_predictions_cat <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.Categorical(random_predictions, categories<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories, ordered<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>)</span>
<span id="cb2-11">cm_random <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> confusion_matrix(y_test, random_predictions_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories)</span>
<span id="cb2-12"></span>
<span id="cb2-13"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">=== 무작위 분류기 혼동 행렬 ===</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb2-14">cm_df_random <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.DataFrame(cm_random, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Actual: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>cat<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> cat <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> test_categories], columns<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Predicted: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>cat<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> cat <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> test_categories])</span>
<span id="cb2-15"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(cm_df_random.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>))</span>
<span id="cb2-16"></span>
<span id="cb2-17">accuracy_random <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> accuracy_score(y_test, random_predictions_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test)</span>
<span id="cb2-18">precision_random_sk <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> precision_score(y_test, random_predictions_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, average<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories, zero_division<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb2-19">recall_random_sk <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> recall_score(y_test, random_predictions_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, average<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories, zero_division<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb2-20">f1_score_random_sk <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> f1_score(y_test, random_predictions_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, average<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories, zero_division<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb2-21"></span>
<span id="cb2-22"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">=== 무작위 분류기 성능 지표 ===</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb2-23"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"정확도: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>accuracy_random<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:.4f}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb2-24"></span>
<span id="cb2-25"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">무작위 분류기 범주별 정밀도"</span>)</span>
<span id="cb2-26"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(pd.Series(precision_random_sk, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories).<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))</span>
<span id="cb2-27"></span>
<span id="cb2-28"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">무작위 분류기 범주별 재현율"</span>)</span>
<span id="cb2-29"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(pd.Series(recall_random_sk, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories).<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))</span>
<span id="cb2-30"></span>
<span id="cb2-31"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">무작위 분류기 범주별 F1-score"</span>)</span>
<span id="cb2-32"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(pd.Series(f1_score_random_sk, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories).<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
=== 무작위 분류기 혼동 행렬 ===

                     Predicted: explorative  Predicted: stable
Actual: explorative                37372.17           44867.14
Actual: stable                     41616.52           49155.97

=== 무작위 분류기 성능 지표 ===

정확도: 0.5001

무작위 분류기 범주별 정밀도
explorative    0.4731
stable         0.5228
dtype: float64

무작위 분류기 범주별 재현율
explorative    0.4544
stable         0.5415
dtype: float64

무작위 분류기 범주별 F1-score
explorative    0.4636
stable         0.5320
dtype: float64</code></pre>
</div>
</div>
</section>
<section id="random-forest" class="level2">
<h2 class="anchored" data-anchor-id="random-forest">Random Forest</h2>
<div id="3469684c" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> sklearn.ensemble <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> RandomForestClassifier</span>
<span id="cb4-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> sklearn.model_selection <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> GridSearchCV</span>
<span id="cb4-3"></span>
<span id="cb4-4">base_rf <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> RandomForestClassifier(</span>
<span id="cb4-5">    random_state<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>RANDOM_STATE,</span>
<span id="cb4-6">    oob_score<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>,</span>
<span id="cb4-7">    class_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'balanced_subsample'</span>,</span>
<span id="cb4-8">    n_jobs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb4-9">)</span>
<span id="cb4-10"></span>
<span id="cb4-11">param_grid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb4-12">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n_estimators'</span>: [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">500</span>],</span>
<span id="cb4-13">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'max_depth'</span>: [<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>],</span>
<span id="cb4-14">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'max_features'</span>: [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sqrt'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'log2'</span>],</span>
<span id="cb4-15">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'min_samples_split'</span>: [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>],</span>
<span id="cb4-16">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'min_samples_leaf'</span>: [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>]</span>
<span id="cb4-17">}</span>
<span id="cb4-18"></span>
<span id="cb4-19">grid_search <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> GridSearchCV(</span>
<span id="cb4-20">    estimator<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>base_rf,</span>
<span id="cb4-21">    param_grid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>param_grid,</span>
<span id="cb4-22">    cv<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,</span>
<span id="cb4-23">    scoring<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'accuracy'</span>,</span>
<span id="cb4-24">    n_jobs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb4-25">    verbose<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span></span>
<span id="cb4-26">)</span>
<span id="cb4-27"></span>
<span id="cb4-28">grid_search.fit(X_train, y_train, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_train)</span>
<span id="cb4-29"></span>
<span id="cb4-30"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">최적의 하이퍼파라미터: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>grid_search<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>best_params_<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb4-31"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"최적 교차 검증 점수: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>grid_search<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>best_score_<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:.4f}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb4-32"></span>
<span id="cb4-33">rf_model_py <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> grid_search.best_estimator_</span>
<span id="cb4-34"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"OOB Score: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>rf_model_py<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>oob_score_<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:.4f}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb4-35"></span>
<span id="cb4-36">importances <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> rf_model_py.feature_importances_</span>
<span id="cb4-37">feature_names <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> X_train.columns</span>
<span id="cb4-38"></span>
<span id="cb4-39">max_importance <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> importances.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">max</span>()</span>
<span id="cb4-40">scaled_importances <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (importances <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> max_importance) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb4-41">forest_importances <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.Series(scaled_importances, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>feature_names).sort_values(ascending<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>)</span>
<span id="cb4-42"></span>
<span id="cb4-43"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">=== Random Forest 중요도 ==="</span>)</span>
<span id="cb4-44">top_10_importances <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> forest_importances</span>
<span id="cb4-45">top_10_df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.DataFrame({<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Feature'</span>: top_10_importances.index, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Importance'</span>: top_10_importances.values})</span>
<span id="cb4-46"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(top_10_df.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>))</span>
<span id="cb4-47"></span>
<span id="cb4-48">sns.barplot(x<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>top_10_importances.values, y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>top_10_importances.index)</span>
<span id="cb4-49">plt.title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Feature Importances (Random Forest)'</span>, fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb4-50">plt.xlabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Importance Score'</span>, fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>)</span>
<span id="cb4-51">plt.ylabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Feature'</span>, fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>)</span>
<span id="cb4-52">plt.xticks(fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>)</span>
<span id="cb4-53">plt.yticks(fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>)</span>
<span id="cb4-54">plt.tight_layout()</span>
<span id="cb4-55">plt.savefig(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'ran_imp.png'</span>, dpi<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span>, bbox_inches<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'tight'</span>)</span>
<span id="cb4-56">plt.show()</span>
<span id="cb4-57"></span>
<span id="cb4-58">y_pred_rf <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> rf_model_py.predict(X_test)</span>
<span id="cb4-59">y_pred_proba_rf <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> rf_model_py.predict_proba(X_test)</span>
<span id="cb4-60"></span>
<span id="cb4-61">y_pred_rf_cat <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.Categorical(y_pred_rf, categories<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories, ordered<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>)</span>
<span id="cb4-62"></span>
<span id="cb4-63">cm_rf <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> confusion_matrix(y_test, y_pred_rf_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories)</span>
<span id="cb4-64"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">=== Random Forest 혼동 행렬 ===</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb4-65">cm_df_rf <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.DataFrame(cm_rf, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Actual: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>cat<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> cat <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> test_categories], columns<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Predicted: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>cat<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> cat <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> test_categories])</span>
<span id="cb4-66"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(cm_df_rf.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>))</span>
<span id="cb4-67"></span>
<span id="cb4-68">accuracy_rf <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> accuracy_score(y_test, y_pred_rf_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test)</span>
<span id="cb4-69">precision_rf_sk <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> precision_score(y_test, y_pred_rf_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, average<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories, zero_division<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb4-70">recall_rf_sk <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> recall_score(y_test, y_pred_rf_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, average<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories, zero_division<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb4-71">f1_score_rf_sk <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> f1_score(y_test, y_pred_rf_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, average<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories, zero_division<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb4-72"></span>
<span id="cb4-73"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">=== Random Forest 성능 지표 ===</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb4-74"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"정확도: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>accuracy_rf<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:.4f}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb4-75"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Random Forest 범주별 정밀도:"</span>)</span>
<span id="cb4-76"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(pd.Series(precision_rf_sk, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories).<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))</span>
<span id="cb4-77"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Random Forest 범주별 재현율:"</span>)</span>
<span id="cb4-78"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(pd.Series(recall_rf_sk, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories).<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))</span>
<span id="cb4-79"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Random Forest 범주별 F1-score:"</span>)</span>
<span id="cb4-80"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(pd.Series(f1_score_rf_sk, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories).<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
최적의 하이퍼파라미터: {'max_depth': 10, 'max_features': 'log2', 'min_samples_leaf': 2, 'min_samples_split': 2, 'n_estimators': 100}
최적 교차 검증 점수: 0.6129
OOB Score: 0.5865

=== Random Forest 중요도 ===
                        Feature  Importance
0            self_confidence_w4      100.00
1              desire_stress_w1       89.19
2          parent_attachment_w5       83.50
3          parent_monitoring_w5       83.40
4              friend_stress_w4       82.51
5          parent_monitoring_w4       81.66
6             deviant_esteem_w3       80.23
7                 neg_esteem_w4       79.71
8          parent_monitoring_w3       79.27
9          parent_attachment_w4       78.51
10  higher_school_dependence_w1       76.60
11             desire_stress_w4       75.87
12         parent_attachment_w3       74.15
13  higher_school_dependence_w2       73.13
14         parent_monitoring_w1       72.00
15             friend_stress_w3       71.55
16           self_confidence_w1       69.76
17  higher_school_dependence_w4       67.74
18             desire_stress_w2       67.66
19            deviant_esteem_w4       66.96
20           self_confidence_w3       66.83
21  higher_school_dependence_w5       66.33
22         parent_monitoring_w2       64.70
23           self_confidence_w2       64.55
24             parent_stress_w2       64.32
25             friend_stress_w2       63.39
26             parent_stress_w3       63.12
27             parent_stress_w4       62.80
28            deviant_esteem_w5       62.53
29         parent_attachment_w1       62.00
30             friend_stress_w1       61.78
31                neg_esteem_w5       61.55
32           academic_stress_w3       60.54
33            deviant_esteem_w2       60.54
34         parent_attachment_w2       60.46
35  higher_school_dependence_w3       60.34
36           academic_stress_w2       59.86
37             parent_stress_w5       59.49
38            deviant_esteem_w1       59.29
39                neg_esteem_w3       58.54
40           academic_stress_w4       58.47
41           self_confidence_w5       57.98
42                neg_esteem_w2       57.81
43           academic_stress_w5       55.73
44             desire_stress_w5       55.68
45           academic_stress_w1       55.06
46             friend_stress_w5       54.55
47                neg_esteem_w1       52.13
48             parent_stress_w1       52.07
49             desire_stress_w3       51.97</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/15_files/figure-html/cell-4-output-2.png" width="664" height="472" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
=== Random Forest 혼동 행렬 ===

                     Predicted: explorative  Predicted: stable
Actual: explorative                37334.03           44905.28
Actual: stable                     27479.79           63292.70

=== Random Forest 성능 지표 ===

정확도: 0.5816

Random Forest 범주별 정밀도:
explorative    0.576
stable         0.585
dtype: float64

Random Forest 범주별 재현율:
explorative    0.4540
stable         0.6973
dtype: float64

Random Forest 범주별 F1-score:
explorative    0.5078
stable         0.6362
dtype: float64</code></pre>
</div>
</div>
</section>
<section id="xgboost" class="level2">
<h2 class="anchored" data-anchor-id="xgboost">XGBoost</h2>
<div id="9bd98694" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> xgboost <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> xgb</span>
<span id="cb7-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> sklearn.preprocessing <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> LabelEncoder</span>
<span id="cb7-3"></span>
<span id="cb7-4">le <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> LabelEncoder()</span>
<span id="cb7-5">y_train_numeric <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> le.fit_transform(y_train)</span>
<span id="cb7-6">y_test_numeric <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> le.transform(y_test)</span>
<span id="cb7-7"></span>
<span id="cb7-8">class_labels_ordered <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>(le.classes_) </span>
<span id="cb7-9">num_classes <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(class_labels_ordered)</span>
<span id="cb7-10"></span>
<span id="cb7-11"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Label Encoder 클래스: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>class_labels_ordered<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> -&gt; </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">range</span>(num_classes))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb7-12"></span>
<span id="cb7-13">xgb_model <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> xgb.XGBClassifier(</span>
<span id="cb7-14">    objective<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'multi:softprob'</span>,</span>
<span id="cb7-15">    eval_metric<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'mlogloss'</span>,</span>
<span id="cb7-16">    num_class<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>num_classes,</span>
<span id="cb7-17">    seed<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>RANDOM_STATE,</span>
<span id="cb7-18">    use_label_encoder<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>,</span>
<span id="cb7-19">    verbosity<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb7-20">)</span>
<span id="cb7-21"></span>
<span id="cb7-22">param_grid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb7-23">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n_estimators'</span>: [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">200</span>],</span>
<span id="cb7-24">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'max_depth'</span>: [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>],</span>
<span id="cb7-25">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'learning_rate'</span>: [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.05</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>],</span>
<span id="cb7-26">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'subsample'</span>: [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.0</span>],</span>
<span id="cb7-27">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'colsample_bytree'</span>: [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.0</span>]</span>
<span id="cb7-28">}</span>
<span id="cb7-29"></span>
<span id="cb7-30">grid_search <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> GridSearchCV(</span>
<span id="cb7-31">    estimator<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>xgb_model,</span>
<span id="cb7-32">    param_grid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>param_grid,</span>
<span id="cb7-33">    cv<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,</span>
<span id="cb7-34">    scoring<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'accuracy'</span>,</span>
<span id="cb7-35">    n_jobs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb7-36">    verbose<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb7-37">)</span>
<span id="cb7-38"></span>
<span id="cb7-39">grid_search.fit(X_train, y_train_numeric, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_train)</span>
<span id="cb7-40"></span>
<span id="cb7-41"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">최적의 하이퍼파라미터: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>grid_search<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>best_params_<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb7-42"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"최적 교차 검증 점수: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>grid_search<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>best_score_<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:.4f}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb7-43"></span>
<span id="cb7-44">xgb_model_py <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> grid_search.best_estimator_</span>
<span id="cb7-45"></span>
<span id="cb7-46">importance_scores <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> xgb_model_py.feature_importances_</span>
<span id="cb7-47">xgb_importance_df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.DataFrame({</span>
<span id="cb7-48">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Feature'</span>: X_train.columns,</span>
<span id="cb7-49">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Importance'</span>: importance_scores</span>
<span id="cb7-50">})</span>
<span id="cb7-51"></span>
<span id="cb7-52">max_importance <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> xgb_importance_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Importance'</span>].<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">max</span>()</span>
<span id="cb7-53">xgb_importance_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Importance'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (xgb_importance_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Importance'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> max_importance) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb7-54">xgb_importance_df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> xgb_importance_df.sort_values(by<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Importance'</span>, ascending<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>)</span>
<span id="cb7-55"></span>
<span id="cb7-56"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">XGBoost 변수 중요도"</span>)</span>
<span id="cb7-57"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(xgb_importance_df)</span>
<span id="cb7-58"></span>
<span id="cb7-59">sns.barplot(x<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Importance'</span>, y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Feature'</span>, data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>xgb_importance_df)</span>
<span id="cb7-60">plt.title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Feature Importances (XGBoost)'</span>, fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb7-61">plt.xlabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Importance'</span>, fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>)</span>
<span id="cb7-62">plt.ylabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Feature'</span>, fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>)</span>
<span id="cb7-63">plt.xticks(fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>)</span>
<span id="cb7-64">plt.yticks(fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>)</span>
<span id="cb7-65">plt.tight_layout()</span>
<span id="cb7-66">plt.savefig(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'xg_imp.png'</span>, dpi<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span>, bbox_inches<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'tight'</span>)</span>
<span id="cb7-67">plt.show()</span>
<span id="cb7-68"></span>
<span id="cb7-69">y_pred_proba_xgb <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> xgb_model_py.predict_proba(X_test)</span>
<span id="cb7-70">y_pred_xgb_numeric <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.argmax(y_pred_proba_xgb, axis<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb7-71">y_pred_xgb <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> le.inverse_transform(y_pred_xgb_numeric)</span>
<span id="cb7-72">y_pred_xgb_cat <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.Categorical(y_pred_xgb, categories<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>class_labels_ordered, ordered<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>)</span>
<span id="cb7-73"></span>
<span id="cb7-74">cm_xgb <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> confusion_matrix(y_test, y_pred_xgb_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>class_labels_ordered)</span>
<span id="cb7-75"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">=== XGBoost 모델 혼동 행렬 ===</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb7-76">cm_df_xgb <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.DataFrame(cm_xgb, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Actual: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>cat<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> cat <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> class_labels_ordered], columns<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Predicted: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>cat<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> cat <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> class_labels_ordered])</span>
<span id="cb7-77"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(cm_df_xgb.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>))</span>
<span id="cb7-78"></span>
<span id="cb7-79">accuracy_xgb <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> accuracy_score(y_test, y_pred_xgb_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test)</span>
<span id="cb7-80">precision_xgb_sk <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> precision_score(y_test, y_pred_xgb_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, average<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>class_labels_ordered, zero_division<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb7-81">recall_xgb_sk <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> recall_score(y_test, y_pred_xgb_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, average<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>class_labels_ordered, zero_division<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb7-82">f1_score_xgb_sk <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> f1_score(y_test, y_pred_xgb_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, average<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>class_labels_ordered, zero_division<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb7-83"></span>
<span id="cb7-84"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">=== XGBoost 모델 성능 지표 ===</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb7-85"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"정확도: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>accuracy_xgb<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:.4f}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb7-86"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">XGBoost 모델 범주별 정밀도:"</span>)</span>
<span id="cb7-87"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(pd.Series(precision_xgb_sk, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>class_labels_ordered).<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))</span>
<span id="cb7-88"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">XGBoost 모델 범주별 재현율:"</span>)</span>
<span id="cb7-89"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(pd.Series(recall_xgb_sk, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>class_labels_ordered).<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))</span>
<span id="cb7-90"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">XGBoost 모델 범주별 F1-score:"</span>)</span>
<span id="cb7-91"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(pd.Series(f1_score_xgb_sk, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>class_labels_ordered).<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Label Encoder 클래스: ['explorative', 'stable'] -&gt; [0, 1]
Fitting 3 folds for each of 32 candidates, totalling 96 fits

최적의 하이퍼파라미터: {'colsample_bytree': 0.8, 'learning_rate': 0.05, 'max_depth': 3, 'n_estimators': 100, 'subsample': 0.8}
최적 교차 검증 점수: nan

XGBoost 변수 중요도
                        Feature  Importance
40         parent_attachment_w5  100.000000
38                neg_esteem_w4   89.684937
36           self_confidence_w4   87.710533
33         parent_monitoring_w4   84.155891
30         parent_attachment_w4   83.655487
35             friend_stress_w4   83.593765
23         parent_monitoring_w3   80.530685
15             friend_stress_w2   80.180794
12             parent_stress_w2   80.104950
6            self_confidence_w1   78.258446
17  higher_school_dependence_w2   77.525246
21            deviant_esteem_w3   75.736404
22             parent_stress_w3   74.421280
4              desire_stress_w1   74.244553
43         parent_monitoring_w5   74.036301
14             desire_stress_w2   73.580856
7   higher_school_dependence_w1   73.197128
25             friend_stress_w3   72.865379
47  higher_school_dependence_w5   72.309631
31            deviant_esteem_w4   71.178528
39           academic_stress_w4   69.950974
48                neg_esteem_w5   69.804626
32             parent_stress_w4   69.397591
3          parent_monitoring_w1   68.932785
46           self_confidence_w5   68.488029
45             friend_stress_w5   68.380692
26           self_confidence_w3   67.708191
27  higher_school_dependence_w3   66.273537
19           academic_stress_w2   65.726303
41            deviant_esteem_w5   65.552612
20         parent_attachment_w3   65.515610
11            deviant_esteem_w2   65.489426
9            academic_stress_w1   64.981789
34             desire_stress_w4   63.373531
49           academic_stress_w5   63.285591
42             parent_stress_w5   62.527847
13         parent_monitoring_w2   62.383938
24             desire_stress_w3   62.092834
18                neg_esteem_w2   61.555267
29           academic_stress_w3   60.970982
37  higher_school_dependence_w4   60.602821
44             desire_stress_w5   59.860622
5              friend_stress_w1   59.424625
0          parent_attachment_w1   55.924370
10         parent_attachment_w2   55.653919
8                 neg_esteem_w1   52.370869
28                neg_esteem_w3   50.224579
2              parent_stress_w1   50.090385
1             deviant_esteem_w1   49.659233
16           self_confidence_w2   49.203815</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/15_files/figure-html/cell-5-output-2.png" width="664" height="472" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
=== XGBoost 모델 혼동 행렬 ===

                     Predicted: explorative  Predicted: stable
Actual: explorative                40510.53           41728.78
Actual: stable                     25198.53           65573.96

=== XGBoost 모델 성능 지표 ===

정확도: 0.6132

XGBoost 모델 범주별 정밀도:
explorative    0.6165
stable         0.6111
dtype: float64

XGBoost 모델 범주별 재현율:
explorative    0.4926
stable         0.7224
dtype: float64

XGBoost 모델 범주별 F1-score:
explorative    0.5476
stable         0.6621
dtype: float64</code></pre>
</div>
</div>
</section>
<section id="logistic-regression" class="level2">
<h2 class="anchored" data-anchor-id="logistic-regression">Logistic Regression</h2>
<div id="63bb487b" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> sklearn.linear_model <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> LogisticRegression</span>
<span id="cb10-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> statsmodels.api <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> sm</span>
<span id="cb10-3"></span>
<span id="cb10-4">base_log_reg <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> LogisticRegression(</span>
<span id="cb10-5">    solver<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'lbfgs'</span>,</span>
<span id="cb10-6">    max_iter<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5000</span>,</span>
<span id="cb10-7">    random_state<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>RANDOM_STATE,</span>
<span id="cb10-8">    n_jobs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb10-9">)</span>
<span id="cb10-10"></span>
<span id="cb10-11">param_grid <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [</span>
<span id="cb10-12">    {</span>
<span id="cb10-13">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'penalty'</span>: [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'l1'</span>],</span>
<span id="cb10-14">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'C'</span>: [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.001</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.01</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>],</span>
<span id="cb10-15">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'solver'</span>: [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'liblinear'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'saga'</span>],</span>
<span id="cb10-16">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'class_weight'</span>: [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'balanced'</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>]</span>
<span id="cb10-17">    },</span>
<span id="cb10-18">    {</span>
<span id="cb10-19">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'penalty'</span>: [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'l2'</span>],</span>
<span id="cb10-20">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'C'</span>: [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.001</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.01</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>],</span>
<span id="cb10-21">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'solver'</span>: [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'lbfgs'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'liblinear'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'saga'</span>],</span>
<span id="cb10-22">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'class_weight'</span>: [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'balanced'</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>]</span>
<span id="cb10-23">    },</span>
<span id="cb10-24">    {</span>
<span id="cb10-25">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'penalty'</span>: [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'elasticnet'</span>],</span>
<span id="cb10-26">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'C'</span>: [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.001</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.01</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>],</span>
<span id="cb10-27">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'solver'</span>: [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'saga'</span>],</span>
<span id="cb10-28">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'l1_ratio'</span>: [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>],</span>
<span id="cb10-29">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'class_weight'</span>: [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'balanced'</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>]</span>
<span id="cb10-30">    },</span>
<span id="cb10-31">    {</span>
<span id="cb10-32">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'penalty'</span>: [<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>],</span>
<span id="cb10-33">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'solver'</span>: [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'lbfgs'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'saga'</span>],</span>
<span id="cb10-34">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'class_weight'</span>: [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'balanced'</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>]</span>
<span id="cb10-35">    }</span>
<span id="cb10-36">]</span>
<span id="cb10-37"></span>
<span id="cb10-38">grid_search <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> GridSearchCV(</span>
<span id="cb10-39">    estimator<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>base_log_reg,</span>
<span id="cb10-40">    param_grid<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>param_grid,</span>
<span id="cb10-41">    cv<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,</span>
<span id="cb10-42">    scoring<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'accuracy'</span>,</span>
<span id="cb10-43">    n_jobs<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb10-44">    verbose<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span></span>
<span id="cb10-45">)</span>
<span id="cb10-46"></span>
<span id="cb10-47">grid_search.fit(X_train, y_train, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_train)</span>
<span id="cb10-48"></span>
<span id="cb10-49"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">최적의 하이퍼파라미터: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>grid_search<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>best_params_<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb10-50"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"최적 교차 검증 점수: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>grid_search<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>best_score_<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:.4f}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb10-51"></span>
<span id="cb10-52">log_reg_model_py <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> grid_search.best_estimator_</span>
<span id="cb10-53">class_labels_logreg <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> log_reg_model_py.classes_</span>
<span id="cb10-54">coef_series <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.Series(log_reg_model_py.coef_[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>], index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>X_train.columns)</span>
<span id="cb10-55">sorted_coefs <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> coef_series.reindex(coef_series.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">abs</span>().sort_values(ascending<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>).index)</span>
<span id="cb10-56"></span>
<span id="cb10-57">X_train_sm <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.add_constant(X_train)</span>
<span id="cb10-58">X_test_sm <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.add_constant(X_test)</span>
<span id="cb10-59"></span>
<span id="cb10-60">y_train_binary <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (y_train <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> class_labels_logreg[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]).astype(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span>)</span>
<span id="cb10-61"></span>
<span id="cb10-62">logit_model <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.Logit(y_train_binary, X_train_sm)</span>
<span id="cb10-63">logit_result <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> logit_model.fit(disp<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb10-64"></span>
<span id="cb10-65">coef_summary <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> logit_result.summary2().tables[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]</span>
<span id="cb10-66">coef_summary_df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.DataFrame(coef_summary)</span>
<span id="cb10-67">coef_summary_sorted <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> coef_summary_df.sort_values(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Coef.'</span>, key<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">abs</span>, ascending<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>)</span>
<span id="cb10-68"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">계수 및 p-value (절댓값이 큰 순서):"</span>)</span>
<span id="cb10-69"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(coef_summary_sorted[[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Coef.'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'P&gt;|z|'</span>]])</span>
<span id="cb10-70"></span>
<span id="cb10-71">y_pred_logistic_py <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> log_reg_model_py.predict(X_test)</span>
<span id="cb10-72"></span>
<span id="cb10-73">test_categories_logreg <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>(y_test.cat.categories) <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">hasattr</span>(y_test, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'cat'</span>) <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sorted</span>(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>(y_test.unique()))</span>
<span id="cb10-74">y_pred_logistic_cat <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.Categorical(y_pred_logistic_py, categories<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories_logreg, ordered<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>)</span>
<span id="cb10-75"></span>
<span id="cb10-76">cm_logistic <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> confusion_matrix(y_test, y_pred_logistic_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories_logreg)</span>
<span id="cb10-77"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">=== 로지스틱 회귀 모델 혼동 행렬 ===</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb10-78">cm_df_logistic <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.DataFrame(cm_logistic, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Actual: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>cat<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> cat <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> test_categories_logreg], columns<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Predicted: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>cat<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> cat <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> test_categories_logreg])</span>
<span id="cb10-79"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(cm_df_logistic.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>))</span>
<span id="cb10-80"></span>
<span id="cb10-81">accuracy_logistic <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> accuracy_score(y_test, y_pred_logistic_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test)</span>
<span id="cb10-82">precision_logistic_sk <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> precision_score(y_test, y_pred_logistic_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, average<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories_logreg, zero_division<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb10-83">recall_logistic_sk <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> recall_score(y_test, y_pred_logistic_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, average<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories_logreg, zero_division<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb10-84">f1_score_logistic_sk <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> f1_score(y_test, y_pred_logistic_cat, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test, average<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories_logreg, zero_division<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb10-85"></span>
<span id="cb10-86"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">=== 로지스틱 회귀 모델 성능 지표 ===</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb10-87"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"정확도: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>accuracy_logistic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:.4f}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb10-88"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">로지스틱 회귀 모델 범주별 정밀도:"</span>)</span>
<span id="cb10-89"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(pd.Series(precision_logistic_sk, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories_logreg).<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))</span>
<span id="cb10-90"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">로지스틱 회귀 모델 범주별 재현율:"</span>)</span>
<span id="cb10-91"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(pd.Series(recall_logistic_sk, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories_logreg).<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))</span>
<span id="cb10-92"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">로지스틱 회귀 모델 범주별 F1-score:"</span>)</span>
<span id="cb10-93"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(pd.Series(f1_score_logistic_sk, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>test_categories_logreg).<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
최적의 하이퍼파라미터: {'C': 0.1, 'class_weight': None, 'penalty': 'l2', 'solver': 'lbfgs'}
최적 교차 검증 점수: 0.6006

계수 및 p-value (절댓값이 큰 순서):
                                Coef.     P&gt;|z|
desire_stress_w1             0.499608  0.000015
self_confidence_w4          -0.332916  0.010294
parent_stress_w3             0.271418  0.057369
neg_esteem_w4                0.263964  0.031803
desire_stress_w2             0.255400  0.018759
self_confidence_w3          -0.254064  0.030035
friend_stress_w4            -0.247249  0.024386
const                        0.245302  0.000002
deviant_esteem_w3           -0.237610  0.068700
parent_monitoring_w3         0.211999  0.050412
parent_attachment_w3         0.184476  0.274346
parent_monitoring_w4         0.180603  0.106346
higher_school_dependence_w5 -0.164889  0.024659
academic_stress_w2          -0.156225  0.223868
parent_attachment_w5         0.151586  0.345721
desire_stress_w3            -0.149660  0.181854
self_confidence_w2          -0.140414  0.185298
deviant_esteem_w1           -0.138070  0.263940
parent_stress_w4            -0.137391  0.383677
friend_stress_w1            -0.136979  0.134193
academic_stress_w5           0.118084  0.270881
parent_monitoring_w1         0.113677  0.264741
academic_stress_w1          -0.112715  0.410824
desire_stress_w4             0.110917  0.295629
self_confidence_w1           0.109299  0.356000
parent_stress_w1            -0.104439  0.436255
parent_stress_w2            -0.101390  0.460526
parent_monitoring_w2        -0.098915  0.363357
desire_stress_w5             0.096226  0.359037
neg_esteem_w1                0.096029  0.462255
academic_stress_w4           0.091028  0.451824
higher_school_dependence_w2 -0.086012  0.175999
higher_school_dependence_w1 -0.082377  0.182057
parent_attachment_w4        -0.078615  0.648722
deviant_esteem_w4           -0.077995  0.525561
neg_esteem_w5               -0.077245  0.532354
parent_monitoring_w5         0.075278  0.495239
friend_stress_w5            -0.073577  0.475849
friend_stress_w2            -0.069986  0.466378
higher_school_dependence_w4 -0.059155  0.445485
parent_stress_w5            -0.053443  0.710032
neg_esteem_w3               -0.045219  0.687428
parent_attachment_w1        -0.035101  0.822711
higher_school_dependence_w3  0.033887  0.623319
deviant_esteem_w5           -0.024602  0.843547
neg_esteem_w2                0.021549  0.824973
academic_stress_w3          -0.017071  0.879205
self_confidence_w5           0.015841  0.893445
friend_stress_w3            -0.010240  0.924892
parent_attachment_w2         0.006187  0.967933
deviant_esteem_w2            0.002349  0.982333

=== 로지스틱 회귀 모델 혼동 행렬 ===

                     Predicted: explorative  Predicted: stable
Actual: explorative                42190.16           40049.15
Actual: stable                     26537.42           64235.07

=== 로지스틱 회귀 모델 성능 지표 ===

정확도: 0.6151

로지스틱 회귀 모델 범주별 정밀도:
explorative    0.6139
stable         0.6160
dtype: float64

로지스틱 회귀 모델 범주별 재현율:
explorative    0.5130
stable         0.7076
dtype: float64

로지스틱 회귀 모델 범주별 F1-score:
explorative    0.5589
stable         0.6586
dtype: float64</code></pre>
</div>
</div>
</section>
<section id="모델-성능-비교" class="level2">
<h2 class="anchored" data-anchor-id="모델-성능-비교">모델 성능 비교</h2>
<div id="ca313cd7" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.cm <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> cm</span>
<span id="cb12-2"></span>
<span id="cb12-3">model_metrics_list <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> []</span>
<span id="cb12-4">class_labels_ordered <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>(y_test.cat.categories)</span>
<span id="cb12-5"></span>
<span id="cb12-6"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> compile_metrics(model_name, accuracy, precision_arr, recall_arr, f1_arr):</span>
<span id="cb12-7">    metrics <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Model'</span>: model_name, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Accuracy'</span>: accuracy}</span>
<span id="cb12-8">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> i, label <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">enumerate</span>(class_labels_ordered):</span>
<span id="cb12-9">        metrics[<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f'Precision (</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>label<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">)'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> precision_arr[i]</span>
<span id="cb12-10">        metrics[<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f'Recall (</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>label<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">)'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> recall_arr[i]</span>
<span id="cb12-11">        metrics[<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f'F1-score (</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>label<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">)'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> f1_arr[i]</span>
<span id="cb12-12">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> metrics</span>
<span id="cb12-13"></span>
<span id="cb12-14">model_metrics_list.append(compile_metrics(</span>
<span id="cb12-15">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Random Classifier"</span>,</span>
<span id="cb12-16">    accuracy_random,</span>
<span id="cb12-17">    precision_random_sk,</span>
<span id="cb12-18">    recall_random_sk,</span>
<span id="cb12-19">    f1_score_random_sk</span>
<span id="cb12-20">))</span>
<span id="cb12-21">model_metrics_list.append(compile_metrics(</span>
<span id="cb12-22">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Random Forest"</span>,</span>
<span id="cb12-23">    accuracy_rf,</span>
<span id="cb12-24">    precision_rf_sk,</span>
<span id="cb12-25">    recall_rf_sk,</span>
<span id="cb12-26">    f1_score_rf_sk</span>
<span id="cb12-27">))</span>
<span id="cb12-28">model_metrics_list.append(compile_metrics(</span>
<span id="cb12-29">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"XGBoost"</span>,</span>
<span id="cb12-30">    accuracy_xgb,</span>
<span id="cb12-31">    precision_xgb_sk,</span>
<span id="cb12-32">    recall_xgb_sk,</span>
<span id="cb12-33">    f1_score_xgb_sk</span>
<span id="cb12-34">))</span>
<span id="cb12-35">model_metrics_list.append(compile_metrics(</span>
<span id="cb12-36">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Logistic Regression"</span>,</span>
<span id="cb12-37">    accuracy_logistic,</span>
<span id="cb12-38">    precision_logistic_sk,</span>
<span id="cb12-39">    recall_logistic_sk,</span>
<span id="cb12-40">    f1_score_logistic_sk</span>
<span id="cb12-41">))</span>
<span id="cb12-42"></span>
<span id="cb12-43">comparison_df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.DataFrame(model_metrics_list).set_index(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Model'</span>)</span>
<span id="cb12-44">models <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> comparison_df.index.tolist()</span>
<span id="cb12-45">all_categories <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Accuracy'</span>]</span>
<span id="cb12-46"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> label <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> class_labels_ordered:</span>
<span id="cb12-47">    all_categories.extend([</span>
<span id="cb12-48">        <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f'Precision (</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>label<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">)'</span>,</span>
<span id="cb12-49">        <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f'Recall (</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>label<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">)'</span>,</span>
<span id="cb12-50">        <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f'F1-score (</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>label<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">)'</span></span>
<span id="cb12-51">    ])</span>
<span id="cb12-52">angles <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.linspace(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>np.pi, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(all_categories), endpoint<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>).tolist()</span>
<span id="cb12-53">angles <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+=</span> angles[:<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]</span>
<span id="cb12-54">ax <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> plt.subplot(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">111</span>, polar<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>)</span>
<span id="cb12-55">colors <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> cm.tab10(np.linspace(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(models)))</span>
<span id="cb12-56"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> i, model <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">enumerate</span>(models):</span>
<span id="cb12-57">    values <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> comparison_df.loc[model, all_categories].values.flatten().tolist()</span>
<span id="cb12-58">    values <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+=</span> values[:<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]</span>
<span id="cb12-59">    ax.plot(angles, values, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'o-'</span>, linewidth<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>colors[i], label<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>model, alpha<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>)</span>
<span id="cb12-60">    ax.fill(angles, values, color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>colors[i], alpha<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)</span>
<span id="cb12-61">ax.set_xticks(angles[:<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])</span>
<span id="cb12-62">ax.set_xticklabels(all_categories, fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb12-63"></span>
<span id="cb12-64">ax.set_ylim(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb12-65">ax.set_yticks([<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.0</span>])</span>
<span id="cb12-66">ax.set_yticklabels([<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'0.2'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'0.4'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'0.6'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'0.8'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'1.0'</span>], fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9</span>)</span>
<span id="cb12-67">ax.grid(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>, linestyle<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'-'</span>, alpha<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>)</span>
<span id="cb12-68">plt.title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'모델 성능 비교'</span>, size<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>, y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.1</span>)</span>
<span id="cb12-69">plt.legend(loc<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'upper right'</span>, bbox_to_anchor<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>))</span>
<span id="cb12-70">plt.savefig(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'model_met.png'</span>, dpi<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span>, bbox_inches<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'tight'</span>)</span>
<span id="cb12-71">plt.tight_layout()</span>
<span id="cb12-72">plt.show()</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/15_files/figure-html/cell-7-output-1.png" width="541" height="468" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="roc-커브" class="level2">
<h2 class="anchored" data-anchor-id="roc-커브">ROC 커브</h2>
<div id="d60425a3" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1">random_pred_proba <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.zeros((<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(y_test), <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(class_labels_ordered)))</span>
<span id="cb13-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> i, cls <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">enumerate</span>(class_labels_ordered):</span>
<span id="cb13-3">    random_pred_proba[:, i] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> prop_values_ordered[i]</span>
<span id="cb13-4"></span>
<span id="cb13-5">pred_probas <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb13-6">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Random Classifier"</span>: random_pred_proba,</span>
<span id="cb13-7">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Random Forest"</span>: y_pred_proba_rf,</span>
<span id="cb13-8">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"XGBoost"</span>: y_pred_proba_xgb,</span>
<span id="cb13-9">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Logistic Regression"</span>: log_reg_model_py.predict_proba(X_test)</span>
<span id="cb13-10">}</span>
<span id="cb13-11"></span>
<span id="cb13-12">colors <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb13-13">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Random Classifier"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey"</span>,</span>
<span id="cb13-14">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Random Forest"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"forestgreen"</span>,</span>
<span id="cb13-15">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"XGBoost"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"darkorange"</span>,</span>
<span id="cb13-16">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Logistic Regression"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"navy"</span></span>
<span id="cb13-17">}</span>
<span id="cb13-18"></span>
<span id="cb13-19">y_test_numeric <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> y_test.cat.codes <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">hasattr</span>(y_test, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'cat'</span>) <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span> y_test</span>
<span id="cb13-20"></span>
<span id="cb13-21"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> model_name, proba <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> pred_probas.items():</span>
<span id="cb13-22">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> proba.shape[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>:</span>
<span id="cb13-23">        y_score <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> proba[:, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]</span>
<span id="cb13-24">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>:</span>
<span id="cb13-25">        y_score <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> proba.ravel()</span>
<span id="cb13-26">    fpr, tpr, _ <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> roc_curve(y_test_numeric, y_score, sample_weight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>weights_test)</span>
<span id="cb13-27">    roc_auc <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> auc(fpr, tpr)</span>
<span id="cb13-28">    plt.plot(fpr, tpr, lw<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, label<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f'</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>model_name<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> (AUC = </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>roc_auc<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:.3f}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">)'</span>, color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>colors[model_name])</span>
<span id="cb13-29"></span>
<span id="cb13-30">plt.plot([<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'k--'</span>, lw<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span>)</span>
<span id="cb13-31">plt.xlim([<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.0</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.0</span>])</span>
<span id="cb13-32">plt.ylim([<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.0</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.0</span>])</span>
<span id="cb13-33">plt.xlabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'False Positive Rate'</span>, fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>)</span>
<span id="cb13-34">plt.ylabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'True Positive Rate'</span>, fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>)</span>
<span id="cb13-35">plt.title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'ROC 커브'</span>, fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>, fontweight<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'bold'</span>)</span>
<span id="cb13-36">plt.legend(loc<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lower right"</span>, fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb13-37">plt.grid(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>, linestyle<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'--'</span>, alpha<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>)</span>
<span id="cb13-38"></span>
<span id="cb13-39"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가로 세로 비율 조정</span></span>
<span id="cb13-40">plt.gcf().set_size_inches(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 정사각형 비율로 설정</span></span>
<span id="cb13-41"></span>
<span id="cb13-42">plt.tight_layout()</span>
<span id="cb13-43">plt.savefig(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'roc_curve_comparison.png'</span>, dpi<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span>, bbox_inches<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'tight'</span>)</span>
<span id="cb13-44">plt.show()</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/15_files/figure-html/cell-8-output-1.png" width="757" height="757" class="figure-img"></p>
</figure>
</div>
</div>
</div>


</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a> ]]></description>
  <category>data mining</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/15.html</guid>
  <pubDate>Wed, 21 May 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>preprocessing</title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/14.html</link>
  <description><![CDATA[ 




<p><img src="https://cryscham123.github.io/img/human-thumb.jpg" class="post-thumbnail img-fluid"></p>
<section id="data-load" class="level2">
<h2 class="anchored" data-anchor-id="data-load">Data Load</h2>
<div id="f39ece39" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pd</span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> numpy <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> np</span>
<span id="cb1-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> sklearn.model_selection <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> train_test_split</span>
<span id="cb1-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> sklearn.metrics <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> classification_report</span>
<span id="cb1-5"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> sklearn.preprocessing <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> StandardScaler</span>
<span id="cb1-6"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb1-7"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> matplotlib <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> font_manager, rc</span>
<span id="cb1-8"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> seaborn <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> sns</span>
<span id="cb1-9"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> warnings</span>
<span id="cb1-10"></span>
<span id="cb1-11">warnings.filterwarnings(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ignore"</span>)</span>
<span id="cb1-12"></span>
<span id="cb1-13">ID_VAR <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"id"</span></span>
<span id="cb1-14">WEIGHT_VAR <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"wt2"</span></span>
<span id="cb1-15">OUTCOME_VAR <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"status_category"</span></span>
<span id="cb1-16">RANDOM_STATE <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">54321</span></span>
<span id="cb1-17">target_pred_var <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [ID_VAR, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"wt1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q33a01"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q33a02"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q33a03"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q33a04"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q33a05"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q33a06"</span>,</span>
<span id="cb1-18">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q48a07"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q48a08"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q48a09"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q48a10"</span>,</span>
<span id="cb1-19">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q49a01"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q49a02"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q49a03"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q49a04"</span>,</span>
<span id="cb1-20">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q33a07"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q33a08"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q33a09"</span>,</span>
<span id="cb1-21">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q49a15"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q49a16"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q49a17"</span>,</span>
<span id="cb1-22">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q49a09"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q49a10"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q49a11"</span>,</span>
<span id="cb1-23">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q48b1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q48b2"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q48b3"</span>,</span>
<span id="cb1-24">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q12a01"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q12a02"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q12a03"</span>,</span>
<span id="cb1-25">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q48a04"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q48a05"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q48a06"</span>,</span>
<span id="cb1-26">                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q49a05"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q49a06"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q49a08"</span>]</span>
<span id="cb1-27">cfa_model <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb1-28"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  # 1. 부모애착</span></span>
<span id="cb1-29"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  parent_attachment =~ q33a01 + q33a02 + q33a03 + q33a04 + q33a05 + q33a06</span></span>
<span id="cb1-30"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  # 2. 일탈적 자아 낙인</span></span>
<span id="cb1-31"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  deviant_esteem =~ q48a07 + q48a08 + q48a09 + q48a10</span></span>
<span id="cb1-32"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  # 3. 부모에 의한 스트레스</span></span>
<span id="cb1-33"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  parent_stress =~ q49a01 + q49a02 + q49a03 + q49a04</span></span>
<span id="cb1-34"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  # 4. 부모감독</span></span>
<span id="cb1-35"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  parent_monitoring =~ q33a07 + q33a08 + q33a09</span></span>
<span id="cb1-36"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  # 5. 물질적 요인으로 인한 스트레스</span></span>
<span id="cb1-37"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  desire_stress =~ q49a15 + q49a16 + q49a17</span></span>
<span id="cb1-38"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  # 6. 친구로 인한 스트레스</span></span>
<span id="cb1-39"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  friend_stress =~ q49a09 + q49a10 + q49a11</span></span>
<span id="cb1-40"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  # 7. 자기신뢰감</span></span>
<span id="cb1-41"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  self_confidence =~ q48b1 + q48b2 + q48b3</span></span>
<span id="cb1-42"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  # 8. 상급학교 의존도</span></span>
<span id="cb1-43"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  higher_school_dependence =~ q12a01 + q12a02 + q12a03</span></span>
<span id="cb1-44"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  # 9. 부정적 자아존중감</span></span>
<span id="cb1-45"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  neg_esteem =~ q48a04 + q48a05 + q48a06</span></span>
<span id="cb1-46"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  # 10. 학업으로 인한 스트레스</span></span>
<span id="cb1-47"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  academic_stress =~ q49a05 + q49a06 + q49a08</span></span>
<span id="cb1-48"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb1-49">df1_origin <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.read_csv(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'_data/student_1.csv'</span>)</span>
<span id="cb1-50">df2_origin <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.read_csv(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'_data/student_2.csv'</span>)</span>
<span id="cb1-51">df3_origin <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.read_csv(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'_data/student_3.csv'</span>)</span>
<span id="cb1-52">df4_origin <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.read_csv(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'_data/student_4.csv'</span>)</span>
<span id="cb1-53">df5_origin <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.read_csv(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'_data/student_5.csv'</span>)</span>
<span id="cb1-54">df6_origin <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.read_csv(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'_data/student_6.csv'</span>)</span>
<span id="cb1-55">df_origin <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [df1_origin, df2_origin, df3_origin, df4_origin, df5_origin]</span></code></pre></div>
</div>
</section>
<section id="cfa-confirmatory-factor-analysis" class="level2">
<h2 class="anchored" data-anchor-id="cfa-confirmatory-factor-analysis">CFA (Confirmatory Factor Analysis)</h2>
<div id="fe5f256c" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> rpy2.robjects <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> ro</span>
<span id="cb2-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> rpy2.robjects.packages <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> importr</span>
<span id="cb2-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> rpy2.robjects <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas2ri</span>
<span id="cb2-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> rpy2.robjects.conversion <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> localconverter</span>
<span id="cb2-5"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> rpy2.robjects.packages <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> importr</span>
<span id="cb2-6"></span>
<span id="cb2-7">pandas2ri.activate()</span>
<span id="cb2-8">lavaan <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> importr(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'lavaan'</span>)</span>
<span id="cb2-9">base_r <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> importr(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'base'</span>)</span>
<span id="cb2-10"></span>
<span id="cb2-11">merged_df_pd <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.DataFrame()</span>
<span id="cb2-12"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> i, df <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">enumerate</span>(df_origin):</span>
<span id="cb2-13">    wave <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> i <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb2-14">    df_analysis <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> df[target_pred_var].copy()</span>
<span id="cb2-15">    df_clean <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> df_analysis.dropna()</span>
<span id="cb2-16">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">with</span> localconverter(ro.default_converter <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> pandas2ri.converter):</span>
<span id="cb2-17">        df_clean_r <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ro.conversion.py2rpy(df_clean)</span>
<span id="cb2-18">    cfa_fit_r <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> lavaan.cfa(</span>
<span id="cb2-19">        model<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>cfa_model,</span>
<span id="cb2-20">        data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>df_clean_r,</span>
<span id="cb2-21">        sampling_weights<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"wt1"</span>,</span>
<span id="cb2-22">        estimator<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MLR"</span>,</span>
<span id="cb2-23">        warn<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>,</span>
<span id="cb2-24">        verbose<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span></span>
<span id="cb2-25">    )</span>
<span id="cb2-26">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">--- Wave </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>wave<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> CFA 적합도 지수 ---"</span>)</span>
<span id="cb2-27">    desired_fit_measures <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ro.StrVector([</span>
<span id="cb2-28">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'cfi.scaled'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'tli.scaled'</span>,</span>
<span id="cb2-29">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'rmsea.scaled'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'rmsea.ci.lower.scaled'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'rmsea.ci.upper.scaled'</span>,</span>
<span id="cb2-30">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'srmr_bentler'</span></span>
<span id="cb2-31">    ])</span>
<span id="cb2-32">    fit_measures_values_r <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> lavaan.fitMeasures(cfa_fit_r, fit_measures<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>desired_fit_measures)</span>
<span id="cb2-33">    fit_values_py <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [val <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> val <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">is</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">not</span> ro.NA_Real <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'nan'</span>) <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> val <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>(fit_measures_values_r)]</span>
<span id="cb2-34">    fit_measures_s <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.Series(fit_values_py, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>(desired_fit_measures))</span>
<span id="cb2-35">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(fit_measures_s.to_string())</span>
<span id="cb2-36">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"------------------------------------"</span>)</span>
<span id="cb2-37">    factor_scores_r <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> lavaan.lavPredict(cfa_fit_r, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">type</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lv"</span>)</span>
<span id="cb2-38">    factor_scores_pd <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.DataFrame(factor_scores_r, columns<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"parent_attachment"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"deviant_esteem"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"parent_stress"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"parent_monitoring"</span>,</span>
<span id="cb2-39">                                                             <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"desire_stress"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"friend_stress"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"self_confidence"</span>,</span>
<span id="cb2-40">                                                             <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"higher_school_dependence"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"neg_esteem"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"academic_stress"</span>])</span>
<span id="cb2-41">    ids_for_scores <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> df_clean[ID_VAR].reset_index(drop<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>)</span>
<span id="cb2-42">    factor_scores_pd[ID_VAR] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ids_for_scores</span>
<span id="cb2-43">    new_colnames <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {col: <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>col<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">_w</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>wave<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> col <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> factor_scores_pd.columns <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> col <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> ID_VAR}</span>
<span id="cb2-44">    factor_scores_pd <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> factor_scores_pd.rename(columns<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>new_colnames)</span>
<span id="cb2-45">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> wave <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>:</span>
<span id="cb2-46">        merged_df_pd <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> factor_scores_pd</span>
<span id="cb2-47">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>:</span>
<span id="cb2-48">        merged_df_pd <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.merge(merged_df_pd, factor_scores_pd, on<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>ID_VAR, how<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'outer'</span>)</span>
<span id="cb2-49"></span>
<span id="cb2-50"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> classify_status(q11_value):</span>
<span id="cb2-51">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> q11_value <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">71</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">81</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">91</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">101</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">111</span>]:</span>
<span id="cb2-52">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"stable"</span></span>
<span id="cb2-53">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">elif</span> q11_value <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">13</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>]:</span>
<span id="cb2-54">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"explorative"</span></span>
<span id="cb2-55">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">else</span>:</span>
<span id="cb2-56">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span></span>
<span id="cb2-57"></span>
<span id="cb2-58">pandas2ri.deactivate()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
--- Wave 1 CFA 적합도 지수 ---
cfi.scaled               0.927641
tli.scaled               0.916400
rmsea.scaled             0.041374
rmsea.ci.lower.scaled    0.040245
rmsea.ci.upper.scaled    0.042511
srmr_bentler             0.042360
------------------------------------

--- Wave 2 CFA 적합도 지수 ---
cfi.scaled               0.937524
tli.scaled               0.927819
rmsea.scaled             0.039718
rmsea.ci.lower.scaled    0.038552
rmsea.ci.upper.scaled    0.040894
srmr_bentler             0.037124
------------------------------------

--- Wave 3 CFA 적합도 지수 ---
cfi.scaled               0.930504
tli.scaled               0.919708
rmsea.scaled             0.039424
rmsea.ci.lower.scaled    0.038270
rmsea.ci.upper.scaled    0.040586
srmr_bentler             0.043117
------------------------------------

--- Wave 4 CFA 적합도 지수 ---
cfi.scaled               0.925239
tli.scaled               0.913625
rmsea.scaled             0.045518
rmsea.ci.lower.scaled    0.044364
rmsea.ci.upper.scaled    0.046681
srmr_bentler             0.046338
------------------------------------

--- Wave 5 CFA 적합도 지수 ---
cfi.scaled               0.934303
tli.scaled               0.924098
rmsea.scaled             0.042005
rmsea.ci.lower.scaled    0.040850
rmsea.ci.upper.scaled    0.043169
srmr_bentler             0.045346
------------------------------------</code></pre>
</div>
</div>
<section id="상관행렬" class="level3">
<h3 class="anchored" data-anchor-id="상관행렬">상관행렬</h3>
<div id="ebf0dc53" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">plt.rcParams[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'font.family'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Noto Sans KR'</span></span>
<span id="cb4-2"></span>
<span id="cb4-3">plt.figure(figsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">25</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">22</span>))</span>
<span id="cb4-4">corr_matrix <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> merged_df_pd.drop(columns<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[ID_VAR]).corr()</span>
<span id="cb4-5">cmap <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sns.diverging_palette(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">230</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>, as_cmap<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>)</span>
<span id="cb4-6">sns.heatmap(</span>
<span id="cb4-7">    corr_matrix,</span>
<span id="cb4-8">    annot<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>,</span>
<span id="cb4-9">    vmax<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.0</span>, </span>
<span id="cb4-10">    vmin<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.0</span>,</span>
<span id="cb4-11">    center<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,</span>
<span id="cb4-12">    linewidths<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">.5</span>,</span>
<span id="cb4-13">    cmap<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>cmap,</span>
<span id="cb4-14">    cbar_kws<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>{<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"shrink"</span>: <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">.5</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"label"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Correlation Coefficient"</span>}</span>
<span id="cb4-15">)</span>
<span id="cb4-16"></span>
<span id="cb4-17">plt.title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Correlation Matrix'</span>, fontsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">16</span>, pad<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>)</span>
<span id="cb4-18">plt.tight_layout()</span>
<span id="cb4-19">plt.savefig(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'correlation_heatmap.png'</span>, dpi<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span>, bbox_inches<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'tight'</span>)</span>
<span id="cb4-20">plt.show()</span>
<span id="cb4-21"></span>
<span id="cb4-22">corr_pairs <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> corr_matrix.unstack().reset_index()</span>
<span id="cb4-23">corr_pairs.columns <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Variable 1'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Variable 2'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Correlation'</span>]</span>
<span id="cb4-24"></span>
<span id="cb4-25">corr_pairs <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> corr_pairs[corr_pairs[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Variable 1'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> corr_pairs[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Variable 2'</span>]]</span>
<span id="cb4-26">corr_pairs[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Pair'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> corr_pairs.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">apply</span>(<span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">lambda</span> x: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">tuple</span>(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sorted</span>([x[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Variable 1'</span>], x[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Variable 2'</span>]])), axis<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb4-27">corr_pairs <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> corr_pairs.drop_duplicates(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Pair'</span>)</span>
<span id="cb4-28"></span>
<span id="cb4-29">corr_pairs <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> corr_pairs.sort_values(by<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Correlation'</span>, key<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">abs</span>, ascending<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>)</span>
<span id="cb4-30">top_corr <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> corr_pairs[[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Variable 1'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Variable 2'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Correlation'</span>]]</span>
<span id="cb4-31"></span>
<span id="cb4-32"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Highest Absolute Correlations:"</span>)</span>
<span id="cb4-33"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(top_corr.head(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">40</span>))</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/14_files/figure-html/cell-4-output-1.png" width="2173" height="2102" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Highest Absolute Correlations:
                Variable 1            Variable 2  Correlation
619       parent_stress_w2    academic_stress_w2     0.757157
109       parent_stress_w1    academic_stress_w1     0.737240
2043  parent_attachment_w5  parent_monitoring_w5     0.713755
1533  parent_attachment_w4  parent_monitoring_w4     0.692874
513   parent_attachment_w2  parent_monitoring_w2     0.689347
2149      parent_stress_w5    academic_stress_w5     0.663941
3     parent_attachment_w1  parent_monitoring_w1     0.658326
1023  parent_attachment_w3  parent_monitoring_w3     0.655997
1129      parent_stress_w3    academic_stress_w3     0.608676
1540  parent_attachment_w4  parent_attachment_w5     0.604272
1030  parent_attachment_w3  parent_attachment_w4     0.601522
10    parent_attachment_w1  parent_attachment_w2     0.582573
520   parent_attachment_w2  parent_attachment_w3     0.579379
719       desire_stress_w2    academic_stress_w2     0.574989
1639      parent_stress_w4    academic_stress_w4     0.566123
614       parent_stress_w2      desire_stress_w2     0.559798
409          neg_esteem_w1    academic_stress_w1     0.559204
209       desire_stress_w1    academic_stress_w1     0.556277
1040  parent_attachment_w3  parent_attachment_w5     0.539659
58       deviant_esteem_w1         neg_esteem_w1     0.534314
104       parent_stress_w1      desire_stress_w1     0.530970
715       desire_stress_w2      friend_stress_w2     0.530456
2144      parent_stress_w5      desire_stress_w5     0.519393
1693  parent_monitoring_w4  parent_monitoring_w5     0.518281
1132      parent_stress_w3      parent_stress_w4     0.513876
20    parent_attachment_w1  parent_attachment_w3     0.512048
1124      parent_stress_w3      desire_stress_w3     0.507338
1489    academic_stress_w3    academic_stress_w4     0.507213
163   parent_monitoring_w1  parent_monitoring_w2     0.507147
1234      desire_stress_w3      desire_stress_w4     0.505383
530   parent_attachment_w2  parent_attachment_w4     0.504675
2     parent_attachment_w1      parent_stress_w1    -0.501466
673   parent_monitoring_w2  parent_monitoring_w3     0.497952
540   parent_attachment_w2  parent_attachment_w5     0.492200
1183  parent_monitoring_w3  parent_monitoring_w4     0.489749
1642      parent_stress_w4      parent_stress_w5     0.489084
1744      desire_stress_w4      desire_stress_w5     0.486436
112       parent_stress_w1      parent_stress_w2     0.481296
1588     deviant_esteem_w4         neg_esteem_w4     0.480133
1846    self_confidence_w4    self_confidence_w5     0.478809</code></pre>
</div>
</div>
<div id="e9b2ad2b" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1">extra_df_pd <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> df6_origin[[ID_VAR, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"q11"</span>, WEIGHT_VAR, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sex"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"yy"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"area"</span>]].copy()</span>
<span id="cb6-2">extra_df_pd[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'status_category'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> extra_df_pd[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'q11'</span>].<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">apply</span>(classify_status)</span>
<span id="cb6-3">merged_df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.merge(merged_df_pd, extra_df_pd, on<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>ID_VAR, how<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'left'</span>).dropna()</span></code></pre></div>
</div>
</section>
</section>
<section id="인구통계학적-분포-분석" class="level2">
<h2 class="anchored" data-anchor-id="인구통계학적-분포-분석">인구통계학적 분포 분석</h2>
<section id="분포-테이블" class="level3">
<h3 class="anchored" data-anchor-id="분포-테이블">분포 테이블</h3>
<div id="bac413f9" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1">sex_dist_py <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> merged_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sex'</span>].value_counts().rename_axis(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sex'</span>).reset_index(name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n'</span>)</span>
<span id="cb7-2">sex_dist_py[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'percentage'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (sex_dist_py[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> sex_dist_py[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n'</span>].<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sum</span>()) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb7-3"></span>
<span id="cb7-4">birth_year_dist_py <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> merged_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'yy'</span>].value_counts().rename_axis(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'yy'</span>).reset_index(name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n'</span>)</span>
<span id="cb7-5">birth_year_dist_py[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'percentage'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (birth_year_dist_py[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> birth_year_dist_py[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n'</span>].<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sum</span>()) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb7-6">birth_year_dist_py <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> birth_year_dist_py.sort_values(by<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'yy'</span>).reset_index(drop<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>)</span>
<span id="cb7-7"></span>
<span id="cb7-8">area_dist_py <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> merged_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'area'</span>].value_counts().rename_axis(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'area'</span>).reset_index(name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n'</span>)</span>
<span id="cb7-9">area_dist_py[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'percentage'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (area_dist_py[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> area_dist_py[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n'</span>].<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sum</span>()) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb7-10">area_dist_py <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> area_dist_py.sort_values(by<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'area'</span>).reset_index(drop<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 지역 순으로 정렬</span></span>
<span id="cb7-11"></span>
<span id="cb7-12">status_dist_py <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> merged_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'status_category'</span>].value_counts(dropna<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>).rename_axis(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'status_category'</span>).reset_index(name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n'</span>)</span>
<span id="cb7-13">status_dist_py[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'percentage'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (status_dist_py[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> status_dist_py[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n'</span>].<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sum</span>()) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb7-14"></span>
<span id="cb7-15"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(sex_dist_py)</span>
<span id="cb7-16"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(birth_year_dist_py)</span>
<span id="cb7-17"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(status_dist_py)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   sex     n  percentage
0  2.0  1280   52.523595
1  1.0  1157   47.476405
     yy     n  percentage
0  88.0     2    0.082068
1  89.0  1884   77.308166
2  90.0   551   22.609766
  status_category     n  percentage
0          stable  1369   56.175626
1     explorative  1068   43.824374</code></pre>
</div>
</div>
</section>
<section id="분포-시각화" class="level3">
<h3 class="anchored" data-anchor-id="분포-시각화">분포 시각화</h3>
<div id="bdb88a7e" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1">area_mapping_py <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb9-2">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">110</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">120</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">121</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">122</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>,</span>
<span id="cb9-3">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">130</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">131</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">132</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">133</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">134</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>,</span>
<span id="cb9-4">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">135</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">136</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">137</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">138</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">139</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>,</span>
<span id="cb9-5">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">140</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">142</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">143</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">150</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">151</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>,</span>
<span id="cb9-6">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">152</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">153</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">156</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">157</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">158</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"서울"</span>,</span>
<span id="cb9-7">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">200</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">209</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">210</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">215</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">217</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>,</span>
<span id="cb9-8">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">219</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">220</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">225</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">230</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">232</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>,</span>
<span id="cb9-9">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">233</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">235</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">240</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">245</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">250</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>,</span>
<span id="cb9-10">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">252</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">255</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">269</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"강원"</span>,</span>
<span id="cb9-11">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"대전"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">301</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"대전"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">302</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"대전"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">305</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"대전"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">306</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"대전"</span>,</span>
<span id="cb9-12">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">312</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">314</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">320</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">321</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">323</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>,</span>
<span id="cb9-13">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">325</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">330</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">336</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">339</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">340</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>,</span>
<span id="cb9-14">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">343</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">345</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">350</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">355</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">356</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>,</span>
<span id="cb9-15">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">357</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충남"</span>,</span>
<span id="cb9-16">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">360</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">361</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">363</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">365</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">367</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충북"</span>,</span>
<span id="cb9-17">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">368</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">369</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">370</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">373</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">376</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충북"</span>,</span>
<span id="cb9-18">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">380</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">390</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">395</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"충북"</span>,</span>
<span id="cb9-19">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">400</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"인천"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">401</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"인천"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">402</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"인천"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">403</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"인천"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">404</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"인천"</span>,</span>
<span id="cb9-20">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">405</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"인천"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">406</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"인천"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">407</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"인천"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">409</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"인천"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">417</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"인천"</span>,</span>
<span id="cb9-21">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">411</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">412</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">413</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">415</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>,</span>
<span id="cb9-22">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">420</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">421</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">422</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">423</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">425</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>,</span>
<span id="cb9-23">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">426</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">427</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">429</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">430</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">431</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>,</span>
<span id="cb9-24">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">435</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">437</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">440</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">441</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">442</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>,</span>
<span id="cb9-25">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">443</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">445</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">447</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">449</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">456</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>,</span>
<span id="cb9-26">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">459</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">461</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">462</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">463</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">464</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>,</span>
<span id="cb9-27">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">465</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">467</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">469</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">471</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">472</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>,</span>
<span id="cb9-28">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">476</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">477</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">480</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">481</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">482</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>,</span>
<span id="cb9-29">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">483</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">487</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경기"</span>,</span>
<span id="cb9-30">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">500</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"광주"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">501</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"광주"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">502</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"광주"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">503</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"광주"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">506</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"광주"</span>,</span>
<span id="cb9-31">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">513</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">515</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">516</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">517</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">519</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>,</span>
<span id="cb9-32">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">520</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">525</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">526</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">527</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">529</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>,</span>
<span id="cb9-33">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">530</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">534</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">535</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">536</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">537</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>,</span>
<span id="cb9-34">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">539</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">540</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">542</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">545</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">546</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>,</span>
<span id="cb9-35">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">548</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">550</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전남"</span>,</span>
<span id="cb9-36">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">560</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">561</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">565</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">566</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">567</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전북"</span>,</span>
<span id="cb9-37">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">568</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">570</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">573</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">576</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">579</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전북"</span>,</span>
<span id="cb9-38">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">580</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">585</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">590</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">595</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">597</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"전북"</span>,</span>
<span id="cb9-39">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">600</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">601</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">602</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">604</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">606</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>,</span>
<span id="cb9-40">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">607</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">608</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">609</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">611</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">612</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>,</span>
<span id="cb9-41">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">613</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">614</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">616</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">617</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">618</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>,</span>
<span id="cb9-42">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">619</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"부산"</span>,</span>
<span id="cb9-43">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">621</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">626</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">627</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">631</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">635</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>,</span>
<span id="cb9-44">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">636</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">637</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">638</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">641</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">645</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>,</span>
<span id="cb9-45">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">650</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">656</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">660</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">664</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">666</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>,</span>
<span id="cb9-46">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">667</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">668</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">670</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">676</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">678</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경남"</span>,</span>
<span id="cb9-47">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">680</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"울산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">681</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"울산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">682</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"울산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">683</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"울산"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">689</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"울산"</span>,</span>
<span id="cb9-48">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">690</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"제주"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">695</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"제주"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">697</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"제주"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">699</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"제주"</span>,</span>
<span id="cb9-49">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">700</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"대구"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">701</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"대구"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">702</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"대구"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">703</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"대구"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">704</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"대구"</span>,</span>
<span id="cb9-50">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">705</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"대구"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">706</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"대구"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">711</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"대구"</span>,</span>
<span id="cb9-51">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">712</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">714</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">716</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">717</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">718</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>,</span>
<span id="cb9-52">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">719</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">730</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">740</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">742</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">745</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>,</span>
<span id="cb9-53">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">750</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">755</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">757</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">760</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">763</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>,</span>
<span id="cb9-54">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">764</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">766</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">767</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">769</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">770</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>,</span>
<span id="cb9-55">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">780</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">790</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">791</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">799</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경북"</span>,</span>
<span id="cb9-56">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">999</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"국외"</span></span>
<span id="cb9-57">}</span>
<span id="cb9-58"></span>
<span id="cb9-59">sns.barplot(x<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sex'</span>, y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'percentage'</span>, data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>sex_dist_py, palette<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'pastel'</span>)</span>
<span id="cb9-60">plt.title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Gender Distribution (%)'</span>)</span>
<span id="cb9-61">plt.ylabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Percentage (%)'</span>)</span>
<span id="cb9-62">plt.xticks(ticks<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Male'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Female'</span>])</span>
<span id="cb9-63">plt.tight_layout()</span>
<span id="cb9-64">plt.savefig(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sex_dis.png'</span>, dpi<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span>, bbox_inches<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'tight'</span>)</span>
<span id="cb9-65">plt.show()</span>
<span id="cb9-66"></span>
<span id="cb9-67">sns.barplot(x<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'yy'</span>, y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'percentage'</span>, data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>birth_year_dist_py, palette<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'viridis'</span>)</span>
<span id="cb9-68">plt.title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Birth Year Distribution (%)'</span>)</span>
<span id="cb9-69">plt.ylabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Percentage (%)'</span>)</span>
<span id="cb9-70">plt.xticks(rotation<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">45</span>, ha<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'right'</span>)</span>
<span id="cb9-71">plt.tight_layout()</span>
<span id="cb9-72">plt.savefig(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'birth_dis.png'</span>, dpi<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span>, bbox_inches<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'tight'</span>)</span>
<span id="cb9-73">plt.show()</span>
<span id="cb9-74"></span>
<span id="cb9-75">merged_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'area_name'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> merged_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'area'</span>].<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">map</span>(area_mapping_py)</span>
<span id="cb9-76">area_name_dist_py <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> merged_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'area_name'</span>].value_counts(dropna<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>).rename_axis(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'area_name'</span>).reset_index(name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n'</span>)</span>
<span id="cb9-77">area_name_dist_py[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'percentage'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (area_name_dist_py[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> area_name_dist_py[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'n'</span>].<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sum</span>()) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb9-78">area_name_dist_py <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> area_name_dist_py.sort_values(by<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'percentage'</span>, ascending<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>).reset_index(drop<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>)</span>
<span id="cb9-79">sns.barplot(x<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'area_name'</span>, y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'percentage'</span>, data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>area_name_dist_py, palette<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'colorblind'</span>)</span>
<span id="cb9-80">plt.title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Regional Distribution (%)'</span>)</span>
<span id="cb9-81">plt.ylabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Percentage (%)'</span>)</span>
<span id="cb9-82">plt.xticks(rotation<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">45</span>, ha<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'right'</span>)</span>
<span id="cb9-83">plt.tight_layout()</span>
<span id="cb9-84">plt.savefig(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'area_dis.png'</span>, dpi<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span>, bbox_inches<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'tight'</span>)</span>
<span id="cb9-85">plt.show()</span>
<span id="cb9-86"></span>
<span id="cb9-87">sns.barplot(x<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'status_category'</span>, y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'percentage'</span>, data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>status_dist_py, palette<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Set2'</span>)</span>
<span id="cb9-88">plt.title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Dependent Variable Distribution (%)'</span>)</span>
<span id="cb9-89">plt.ylabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Percentage (%)'</span>)</span>
<span id="cb9-90">plt.tight_layout()</span>
<span id="cb9-91">plt.savefig(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'status_dis.png'</span>, dpi<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span>, bbox_inches<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'tight'</span>)</span>
<span id="cb9-92">plt.show()</span></code></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/14_files/figure-html/cell-7-output-1.png" width="662" height="469" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/14_files/figure-html/cell-7-output-2.png" width="662" height="469" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/14_files/figure-html/cell-7-output-3.png" width="662" height="470" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/14_files/figure-html/cell-7-output-4.png" width="662" height="469" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="데이터-전처리-및-train-test-split" class="level2">
<h2 class="anchored" data-anchor-id="데이터-전처리-및-train-test-split">데이터 전처리 및 train test split</h2>
<div id="f5c5f549" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> re</span>
<span id="cb10-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> sklearn.model_selection <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> train_test_split</span>
<span id="cb10-3"></span>
<span id="cb10-4">pred_vars <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [col <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> col <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> merged_df.columns <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> re.search(<span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">r"_w[1-5]$"</span>, col)]</span>
<span id="cb10-5">merged_df[OUTCOME_VAR] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> merged_df[OUTCOME_VAR].astype(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'category'</span>)</span>
<span id="cb10-6"></span>
<span id="cb10-7">X <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> merged_df[pred_vars]</span>
<span id="cb10-8">y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> merged_df[OUTCOME_VAR]</span>
<span id="cb10-9">composite_stratify_key <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> y.astype(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'_'</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb10-10">                         merged_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'area_name'</span>].astype(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'_'</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb10-11">                         merged_df[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sex'</span>].astype(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>)</span>
<span id="cb10-12">weights <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> merged_df[WEIGHT_VAR]</span>
<span id="cb10-13">X_train, X_test, y_train, y_test, weights_train, weights_test <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> train_test_split(X, y, weights, test_size<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>, random_state<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>RANDOM_STATE, stratify<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>composite_stratify_key)</span></code></pre></div>
</div>
</section>
<section id="데이터-저장" class="level2">
<h2 class="anchored" data-anchor-id="데이터-저장">데이터 저장</h2>
<div id="39f7a365" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1">train_data_to_save <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> X_train.copy()</span>
<span id="cb11-2">train_data_to_save.insert(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'y'</span>, y_train)</span>
<span id="cb11-3">train_data_to_save.insert(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'weights'</span>, weights_train)</span>
<span id="cb11-4">train_data_to_save.to_csv(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'_data/train_data.csv'</span>, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>)</span>
<span id="cb11-5">test_data_to_save <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> X_test.copy()</span>
<span id="cb11-6">test_data_to_save.insert(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'y'</span>, y_test)</span>
<span id="cb11-7">test_data_to_save.insert(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'weights'</span>, weights_test)</span>
<span id="cb11-8">test_data_to_save.to_csv(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'_data/test_data.csv'</span>, index<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>)</span></code></pre></div>
</div>


</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a> ]]></description>
  <category>data mining</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/14.html</guid>
  <pubDate>Wed, 21 May 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>총괄생산계획</title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/11.html</link>
  <description><![CDATA[ 




<p><img src="https://cryscham123.github.io/img/human-thumb.jpg" class="post-thumbnail img-fluid"></p>
<section id="총괄생산계획" class="level2">
<h2 class="anchored" data-anchor-id="총괄생산계획">총괄생산계획</h2>
<ul>
<li>중기 범위(6-18개월) 기간에 대한 유사한 제품 묶음 수준에서 수요-공급 균형을 맞추기 위한 생산 계획</li>
<li>제품 묶음
<ul>
<li>생산 공정, 시간, 비용, 필요 자원 등의 측면에서 유사.</li>
<li>개별 제품에 비해 예측 정확도가 높음</li>
</ul></li>
<li>계획 수립 후 주기적으로 업데이트</li>
</ul>


</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a> ]]></description>
  <category>생산시스템관리</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/11.html</guid>
  <pubDate>Sun, 18 May 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/OR/12.pdf</link>
  <description><![CDATA[ undefined ]]></description>
  <category>보고서</category>
  <category>OR</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/OR/12.pdf</guid>
  <pubDate>Sun, 18 May 2025 00:27:43 GMT</pubDate>
</item>
<item>
  <title>Regression Analysis</title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/statistics/04.html</link>
  <description><![CDATA[ 




<p><img src="https://cryscham123.github.io/img/stat-thumb.jpg" class="post-thumbnail img-fluid"></p>
<section id="단순선형회귀모형의-확장" class="level2">
<h2 class="anchored" data-anchor-id="단순선형회귀모형의-확장">단순선형회귀모형의 확장</h2>
<section id="독립변수의-비선형-변환" class="level3">
<h3 class="anchored" data-anchor-id="독립변수의-비선형-변환">독립변수의 비선형 변환</h3>
<p>선형: 회귀계수에 대해 선형 → <img src="https://latex.codecogs.com/png.latex?x%5E2">도 선형</p>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a> ]]></description>
  <category>확률과 통계</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/statistics/04.html</guid>
  <pubDate>Mon, 12 May 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>예측</title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/10.html</link>
  <description><![CDATA[ 




<p><img src="https://cryscham123.github.io/img/human-thumb.jpg" class="post-thumbnail img-fluid"></p>
<p>4페이지 집중 못함</p>
<section id="판단적-기법정성적-기법" class="level2">
<h2 class="anchored" data-anchor-id="판단적-기법정성적-기법">판단적 기법(정성적 기법)</h2>
<ul>
<li>전문가의 경험과 직관에 의존하여 예측하는 기법</li>
<li>비정량적 / 주관적 데이터로 정량적인 예측치를 구함
<ul>
<li>단순예측법: 최근의 자료가 미래에 대한 최선의 추정치</li>
<li>추세분석:치전기와 현기 사이의 추세를 다음 기의 판매예측에 반영하는 방법</li>
<li>시장조사법</li>
<li>전문가 의견 종합법</li>
<li>사례유추법: 비슷한 제품이랑 비교</li>
<li>델파이 기법</li>
</ul></li>
</ul>
</section>
<section id="시계열-기법" class="level2">
<h2 class="anchored" data-anchor-id="시계열-기법">시계열 기법</h2>
<ul>
<li>단순 이동평균법: time window를 계속 이동하면서 평균 구하는거
<ul>
<li>time window ↑: 먼 과거까지 보겠다</li>
</ul></li>
<li>가중 이동평균법: 가까울 수록 가중치를 크게 부여</li>
<li>지수평활법: 과거의 모든 데이터를 가중 평균
<ul>
<li>지수평활계수(α): 최근의 값을 더 높은 가중치가 부여되도록 추정</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Chat%7By_%7Bt+1%7D%7D%20=%20%CE%B1y_t+%20(1-%CE%B1)%5Chat%7By_t%7D%20=%20%5Chat%7By_t%7D%20+%20%CE%B1(y_t%20-%20%5Chat%7By_t%7D"></li>
<li>예측치와 관측치 중 어디에 중점을 둘 지에 따라서 α 결정</li>
<li>== 오차를 어느정도 반영할지에 따라서 α 결정</li>
</ul></li>
</ul>
</section>
<section id="상관관계-기법" class="level2">
<h2 class="anchored" data-anchor-id="상관관계-기법">상관관계 기법</h2>
<ul>
<li>선행 지수법</li>
</ul>
</section>
<section id="계절성-수요예측" class="level2">
<h2 class="anchored" data-anchor-id="계절성-수요예측">계절성 수요예측</h2>
<ul>
<li>계절</li>
<li>추세</li>
</ul>
</section>
<section id="예측의-품질-평가" class="level2">
<h2 class="anchored" data-anchor-id="예측의-품질-평가">예측의 품질 평가</h2>


</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a> ]]></description>
  <category>생산시스템관리</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/10.html</guid>
  <pubDate>Sun, 11 May 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/06.pdf</link>
  <description><![CDATA[ undefined ]]></description>
  <category>보고서</category>
  <category>데이터 마이닝</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/06.pdf</guid>
  <pubDate>Sat, 10 May 2025 00:37:01 GMT</pubDate>
</item>
<item>
  <title></title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/05.pdf</link>
  <description><![CDATA[ undefined ]]></description>
  <category>보고서</category>
  <category>데이터 마이닝</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/05.pdf</guid>
  <pubDate>Sat, 10 May 2025 00:36:38 GMT</pubDate>
</item>
<item>
  <title>Support vector machine</title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/03.html</link>
  <description><![CDATA[ 




<p><img src="https://cryscham123.github.io/img/human-thumb.jpg" class="post-thumbnail img-fluid"></p>
<ul>
<li>bias variance tradeoff
<ul>
<li>margin ↑, bias ↑, variance ↓</li>
<li>margin ↓, bias ↓, variance ↑</li>
</ul></li>
<li>suppot vector: 임계값에 가까운 데이터 포인트</li>
<li>linear classification fomulation:</li>
</ul>
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/img/2025-05-05-10-49-25.png" class="img-fluid"></p>
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/img/2025-05-05-10-49-34.png" class="img-fluid"></p>
<ul>
<li>if not linear solvable → kernel functions</li>
<li>soft margin: 이상치를 포함할 수 있는 마진
<ul>
<li>cross validation으로 최적의 soft margin을 찾는다.</li>
</ul></li>
</ul>



<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a> ]]></description>
  <category>data mining</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/03.html</guid>
  <pubDate>Sun, 04 May 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>의사결정 트리</title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/02.html</link>
  <description><![CDATA[ 




<p><img src="https://cryscham123.github.io/img/human-thumb.jpg" class="post-thumbnail img-fluid"></p>
<p>불순도가 가장 낮은 leaves를 root에 두고, 그 다음 불순도가 낮은 leaf를 그 아래에 두는 방식으로 트리를 구성한다. leaf 노드의 과반수가 같은 클래스를 가지면 그 클래스를 리턴한다. overfit을 방비하기 위해 pruning을 하거나 max depth를 설정한다.</p>
<section id="과정" class="level2">
<h2 class="anchored" data-anchor-id="과정">과정</h2>
<ol type="1">
<li>루트 노드에서 시작전체 데이터셋을 기준으로 시작하여 가장 좋은 분할속성(feature)을 선택</li>
<li>분할 기준 평가각 속성에 대해 데이터를 분할했을 때의 분할 평가함수 적용
<ul>
<li>gini index</li>
<li>entropy</li>
<li>information gain</li>
<li>gain ratio</li>
</ul></li>
<li>최적의 분할 선택 평가된 기준 중 가장 순도가 높은 점수를 갖는 속성을 선택 (greedy)</li>
<li>재귀적으로 하위 노드 분할분할된 하위 데이터에 대해 위의 과정을 반복</li>
<li>종료 조건 만족 시 정지</li>
</ol>
</section>
<section id="algorithm" class="level2">
<h2 class="anchored" data-anchor-id="algorithm">Algorithm</h2>
<ol type="1">
<li>CART
<ul>
<li>분할 기준
<ul>
<li>분류: gini index</li>
<li>회귀: MSE</li>
</ul></li>
<li>모든 분할에서 이진 트리로 분할</li>
<li>사후 가지치기
<ul>
<li>비용 복잡도 가지치기: <img src="https://latex.codecogs.com/png.latex?Total%20SSR%20+%20%CE%B1(leaf%20size)">이 제일 작은 트리 선택</li>
<li>α는 cross validation으로 결정</li>
</ul></li>
</ul></li>
</ol>


</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a> ]]></description>
  <category>data mining</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/02.html</guid>
  <pubDate>Sun, 04 May 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>수송문제와 할당 문제들</title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/OR/11.html</link>
  <description><![CDATA[ 




<p><img src="https://cryscham123.github.io/img/stat-thumb.jpg" class="post-thumbnail img-fluid"></p>
<iframe src="new.pdf" width="100%" height="600px" allowfullscreen="">
</iframe>



<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a> ]]></description>
  <category>OR</category>
  <category>학부 정리</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/OR/11.html</guid>
  <pubDate>Thu, 01 May 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>선형계획을 위한 다른 알고리즘들</title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/OR/10.html</link>
  <description><![CDATA[ 




<p><img src="https://cryscham123.github.io/img/stat-thumb.jpg" class="post-thumbnail img-fluid"></p>
<section id="쌍대-심플렉스-방법" class="level2">
<h2 class="anchored" data-anchor-id="쌍대-심플렉스-방법">쌍대 심플렉스 방법</h2>
<ul>
<li>쌍대 문제 제약식에 -1 하고 slack 변수 추가해서 반대로 품.</li>
</ul>
</section>
<section id="상한-기법" class="level2">
<h2 class="anchored" data-anchor-id="상한-기법">상한 기법</h2>
<ul>
<li>일단은 대수적으로 푸는 방법만 배움.</li>
<li>변수가 0일 때 뿐만 아니라 upper bound일 때도 non-basic variable로 취급.</li>
</ul>


</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a> ]]></description>
  <category>OR</category>
  <category>학부 정리</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/OR/10.html</guid>
  <pubDate>Thu, 01 May 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>프로젝트 관리</title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/09.html</link>
  <description><![CDATA[ 




<p><img src="https://cryscham123.github.io/img/human-thumb.jpg" class="post-thumbnail img-fluid"></p>
<section id="프로젝트-vs-프로세스" class="level2">
<h2 class="anchored" data-anchor-id="프로젝트-vs-프로세스">프로젝트 vs 프로세스</h2>
<ul>
<li>프로젝트: 일회성, 하나의 흐름단위</li>
<li>프로세스: 지속적, 여러 흐름 단위</li>
</ul>
</section>
<section id="주경로-기법critical-path-method-cpm" class="level2">
<h2 class="anchored" data-anchor-id="주경로-기법critical-path-method-cpm">주경로 기법(Critical Path Method, CPM)</h2>
<ul>
<li>프로젝트 완료 시간 계산</li>
<li>종속성 path(가장 짧은 시간) 중 가장 긴 path가 critial path
<ul>
<li>이 path의 활동이 지연되면 프로젝트 전체가 지연됨</li>
<li>프로세스 흐름도에서 개별작업의 처리능력이 중요했던것과 달리 프로젝트 종료 시간이 중요.</li>
</ul></li>
</ul>
</section>
<section id="불확실성-하에서의-프로젝트-관리" class="level2">
<h2 class="anchored" data-anchor-id="불확실성-하에서의-프로젝트-관리">불확실성 하에서의 프로젝트 관리</h2>
<ul>
<li>CPM(Critical Path Method): 소요 시간이 정확하게 알려져 있다고 가정</li>
<li>PERT(Program Evaluation and Review Technique): 소요 시간이 불확실하다고 가정</li>
</ul>
<section id="가정" class="level3">
<h3 class="anchored" data-anchor-id="가정">가정</h3>
<ol type="1">
<li>주 경로는 각 활동의 평균 소요시간으로구함</li>
<li>주 경로는 바뀌지 않음</li>
<li>각 활동의 소요시간은 독립적임</li>
</ol>
</section>
<section id="특징" class="level3">
<h3 class="anchored" data-anchor-id="특징">특징</h3>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?d_1,%20d_2,%20...,%20d_n">이 확률변수이면 프로젝트 완성시간 (<img src="https://latex.codecogs.com/png.latex?X">)도 확률변수</li>
<li><img src="https://latex.codecogs.com/png.latex?d_1,%20d_2,%20...,%20d_n">이 정규분포를 따른다면 <img src="https://latex.codecogs.com/png.latex?X">도 정규분포를 따름</li>
</ul>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a> ]]></description>
  <category>생산시스템관리</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/09.html</guid>
  <pubDate>Tue, 29 Apr 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>프로세스 성과에 미치는 변동성의 영향: 산술 손실</title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/08.html</link>
  <description><![CDATA[ 




<p><img src="https://cryscham123.github.io/img/human-thumb.jpg" class="post-thumbnail img-fluid"></p>
<ul>
<li><p>범위는 대략 16까지</p></li>
<li><p>고객이 대기하다가 포기하는 경우를 고려</p></li>
</ul>
<section id="example-food-truck" class="level2">
<h2 class="anchored" data-anchor-id="example-food-truck">example: Food Truck</h2>
<ul>
<li>변동(동일한 확률 가정)
<ul>
<li><strong>수요</strong></li>
<li><strong>공급할 수 있는 양</strong></li>
</ul></li>
<li>수요와 공급이 <strong>동시</strong>에 발생하지 않는 경우로 인해 평균 흐름률이 실제랑 다름.
<ul>
<li><strong>변동성이 흐름률에 영향을 미침</strong></li>
<li>buffer가 있으면 흐름률 높일 수 있음
<ul>
<li>buffer가 없다면?</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="example-병원-외상-센터" class="level2">
<h2 class="anchored" data-anchor-id="example-병원-외상-센터">example: 병원 외상 센터</h2>
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/img/2025-04-28-18-55-18.png" class="img-fluid"></p>
<ul>
<li>대기해야 할 상황이 있으면 다른 병원으로 이동
<ul>
<li>diversion 상태, loss(service를 못 받음)</li>
</ul></li>
</ul>
<section id="diversion-상태-확률" class="level3">
<h3 class="anchored" data-anchor-id="diversion-상태-확률">Diversion 상태 확률</h3>
<ul>
<li><p>D &lt; C 가정하지 않음</p></li>
<li><p>도착 간격은 지수분포 가정 (processing time 분포는 가정 안함)</p></li>
<li><p>대기하지 않고 바로 이탈한다고 가정</p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?P_m">: <strong>내재활용률</strong>과 <strong>자원의 수</strong>에 의해 결정됨</p></li>
<li><p><img src="https://latex.codecogs.com/png.latex?r%20=%20um%20=%20%5Cfrac%7Bp%7D%7Ba%7D">, 해야하는 일의 양을 의미</p>
<ul>
<li>단위: Erlang</li>
</ul></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/img/2025-04-28-19-01-52.png" class="img-fluid figure-img"></p>
<figcaption>Erlang Loss Table</figcaption>
</figure>
</div>
<ul>
<li>들어온 인원: <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B1%7D%7Ba%7D(1%20-%20P_m(r))"></li>
<li>안 들어온 인원: <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B1%7D%7Ba%7DP_m(r)"></li>
</ul>
</section>
</section>
<section id="erlang-loss-table" class="level2">
<h2 class="anchored" data-anchor-id="erlang-loss-table">Erlang Loss Table</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/img/2025-05-01-19-57-26.png" class="img-fluid figure-img"></p>
<figcaption>얼랑 솔실 공식<sup>1</sup></figcaption>
</figure>
</div>
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/img/2025-05-01-20-09-03.png" class="img-fluid"></p>
</section>
<section id="buffer의-역할" class="level2">
<h2 class="anchored" data-anchor-id="buffer의-역할">buffer의 역할</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/img/2025-05-01-20-10-25.png" class="img-fluid figure-img"></p>
<figcaption>변동성으로 인해 capacity가 낮아지는 이유</figcaption>
</figure>
</div>
<p><img src="https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/img/2025-05-01-20-19-03.png" class="img-fluid"></p>
<ul>
<li>변동성이 없다면 cycle time은 1/capacity</li>
<li>변동성이 있다면 cycle time은 늘어남. (시뮬레이션으로 계산)</li>
<li>버퍼가 있으면 1/capacity로 점점 줄어듦.</li>
<li>cell layout을 사용하면 cycle time을 제일 많이 줄일 수 있음.</li>
</ul>


</section>


<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a><div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">각주</h2>

<ol>
<li id="fn1"><p>diversion 확률, 꽉 차있을 확률, 도착한 환자가 서비스 받을 확률, 다른 병원으로 갈 확률 시험에 나온다.↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>생산시스템관리</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/product/08.html</guid>
  <pubDate>Sun, 27 Apr 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>association rule mining</title>
  <link>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/04.html</link>
  <description><![CDATA[ 




<p><img src="https://cryscham123.github.io/img/human-thumb.jpg" class="post-thumbnail img-fluid"></p>
<section id="pattern-minig" class="level2">
<h2 class="anchored" data-anchor-id="pattern-minig">Pattern minig</h2>
<section id="basic-concepts" class="level3">
<h3 class="anchored" data-anchor-id="basic-concepts">Basic Concepts</h3>
<ul>
<li>pattern: dataset 안에서 함께 자주 발생하는 subsequences, substructures, set of items
<ul>
<li>이 pattern은 인과관계를 의미하진 않는다.</li>
</ul></li>
<li>Association rule minig: 최소 지지도나 신뢰도를 넘는 모든 항목에 대해 pattern을 찾는다.</li>
</ul>
</section>
<section id="applications" class="level3">
<h3 class="anchored" data-anchor-id="applications">Applications</h3>
<ul>
<li>association rule, correlation, classification, clustering data mining의 기반이 될 수 있다.</li>
<li>장바구니 분석</li>
<li>연속 구매 분석</li>
</ul>
</section>
<section id="terminologies" class="level3">
<h3 class="anchored" data-anchor-id="terminologies">Terminologies</h3>
<ul>
<li><strong>지지도(Support):</strong> 전체 거래 중 특정 항목 집합이 포함된 거래의 비율.</li>
<li><strong>신뢰도(Confidence):</strong> 항목 X를 포함하는 거래 중에서 항목 Y도 함께 포함하는 거래의 비율.</li>
<li><strong>빈발 패턴(frequent):</strong> 최소 지지도를 넘는 pattern
<ul>
<li>빈발 항목 집합(frequent itemset): 단순한 묶음</li>
<li>빈발 시퀀스</li>
</ul></li>
</ul>
</section>
<section id="closed-pattern" class="level3">
<h3 class="anchored" data-anchor-id="closed-pattern">closed pattern</h3>
<ul>
<li>x가 빈발이고, 지지도가 상위 집합들과 다른 집합 (지지도는 상위로 갈 수록 떨어짐)</li>
<li>지지도 정보를 유지할 수 있다.
<ul>
<li>신뢰도 계산할 때 사용할 수 있음</li>
</ul></li>
</ul>
</section>
<section id="max-patterns" class="level3">
<h3 class="anchored" data-anchor-id="max-patterns">max patterns</h3>
<ul>
<li>x가 빈발이고, 상위 집합들 모두가 빈발 집합이 아닌 집합</li>
<li>지지도 정보는 유지되지 않음.
<ul>
<li>신뢰도 계산할 때 사용할 수 없어서 사실 상 결과 요약 외의 용도는 없음</li>
</ul></li>
<li>Downward closure property: 어떤 itemset이 빈발하지 않으면, 그 모든 superset은 무조건 빈발하지 않는다. 대우도 성립
<ul>
<li>교수님은 anti-monotone property로 설명하셨지만 이게 더 자주 사용되는 용어</li>
</ul></li>
</ul>
</section>
</section>
<section id="association-rule" class="level2">
<h2 class="anchored" data-anchor-id="association-rule">Association Rule</h2>
<ol type="1">
<li>find frequent itemsets
<ul>
<li>Apriori (breadth-first search)</li>
<li>FP-Growth</li>
<li>Eclat (depth-first search)</li>
</ul></li>
<li>generate association rules
<ul>
<li>모든 빈발 itemset I에 대해 모든 I의 subset s로 ‘s -&gt; (I - s)’ 규칙을 생성</li>
<li>최소 신뢰도 조건을 만족하는 규칙만 남김</li>
</ul></li>
</ol>
</section>
<section id="algorithm" class="level2">
<h2 class="anchored" data-anchor-id="algorithm">Algorithm</h2>
<section id="apirori" class="level3">
<h3 class="anchored" data-anchor-id="apirori">Apirori</h3>
<ul>
<li>Monotone 성질을 이용하여 빈발하지 않는 집합은 후보에서 제거</li>
</ul>
<ol type="1">
<li>scan DB once to get 1-itemsets</li>
<li>반복
<ol type="1">
<li>k개의 itemset에 대해 k+1-itemset의 후보를 생성
<ol type="1">
<li>self-join: k-itemset을 두 개 합쳐서 k+1-itemset을 생성</li>
<li>prune: k+1-itemset을 생성할 때, k-itemset의 subset이 모두 빈발해야 k+1-itemset이 빈발할 수 있다.</li>
</ol></li>
<li>k+1-itemset 후보에 대해 DB를 scan하여 빈발한 itemset을 찾는다.</li>
<li>k += 1</li>
<li>빈발 itemset이 없으면 종료</li>
</ol></li>
</ol>
<ul>
<li>Apriori의 단점: DB scan을 여러 번 해야함, 후보가 많아질 수 있음
<ul>
<li>후보 수를 줄이는 방법: Hashing</li>
</ul></li>
</ul>
</section>
<section id="dhp-direct-hashing-and-pruning" class="level3">
<h3 class="anchored" data-anchor-id="dhp-direct-hashing-and-pruning">DHP (Direct Hashing and Pruning)</h3>
<ul>
<li><p>Hash값이 같은 itemset의 count를 합하고, minimum support를 넘는 itemset만 남김</p></li>
<li><p>Hash table을 매번 만드는 번거로움이 있지만, apriori보다 빠름</p></li>
<li><p>반복</p>
<ol type="1">
<li>빈발 항목 찾기, 후보 해시 테이블 생성
<ul>
<li>데이터베이스를 scan하여 최소 지지도를 넘는 1-itemset 후보를 찾음</li>
<li>동시에 조합 가능한 2-itemset을 만들어 mapping된 해시 테이블 bucket에 count += 1</li>
</ul></li>
<li>가지치기
<ul>
<li>1-itemset 후보를 이용해 self-join, prune으로 2-itemset 후보 생성</li>
<li>완성된 후보를 1단계에서 만든 hash table에 매핑해서 최소 지지도를 넘는 2-itemset bucket이 아닐 경우 배제</li>
</ul></li>
</ol></li>
</ul>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> 맨 위로</a> ]]></description>
  <category>data mining</category>
  <guid>https://cryscham123.github.io/posts/01_projects/bs_3_1/notes/data_mining/04.html</guid>
  <pubDate>Sun, 27 Apr 2025 15:00:00 GMT</pubDate>
</item>
</channel>
</rss>
